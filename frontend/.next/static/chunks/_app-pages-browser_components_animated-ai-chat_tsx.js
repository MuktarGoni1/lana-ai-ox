"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_components_animated-ai-chat_tsx"],{

/***/ "(app-pages-browser)/./components/animated-ai-chat.tsx":
/*!*****************************************!*\
  !*** ./components/animated-ai-chat.tsx ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimatedAIChat: function() { return /* binding */ AnimatedAIChat; },\n/* harmony export */   \"default\": function() { return /* binding */ AnimatedChatWithVideo; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./lib/utils.ts\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/book-open.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/command.js\");\n/* harmony import */ var _barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=BookOpen,Command,LoaderIcon,Paperclip,Pause,Play,SendIcon,Sparkles,Video,XIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AnimatePresence,motion!=!framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AnimatePresence,motion!=!framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var _video_learning_page__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./video-learning-page */ \"(app-pages-browser)/./components/video-learning-page.tsx\");\n/* harmony import */ var _barrel_optimize_names_useMotionValue_framer_motion__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=useMotionValue!=!framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/value/use-motion-value.mjs\");\n/* harmony import */ var _barrel_optimize_names_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Plus!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_logo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/logo */ \"(app-pages-browser)/./components/logo.tsx\");\n/* harmony import */ var _lib_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/search */ \"(app-pages-browser)/./lib/search.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/db */ \"(app-pages-browser)/./lib/db.ts\");\n/* __next_internal_client_entry_do_not_use__ default,AnimatedAIChat auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n// Centralized API base for both components in this file\nconst API_BASE = \"http://localhost:8000\" || 0;\n/* ------------------------------------------------------------------ */ /* 1. wrapper                                                           */ /* ------------------------------------------------------------------ */ const styles = \"\\n  .lesson-card h2 {\\n    font-weight: 700;\\n    text-decoration: none;\\n    color: white;\\n    letter-spacing: 0.3px;\\n  }\\n\";\n// inject once with guard to avoid duplicates during HMR\nif (typeof document !== \"undefined\") {\n    const existing = document.getElementById(\"lana-inline-styles\");\n    if (!existing) {\n        const style = document.createElement(\"style\");\n        style.id = \"lana-inline-styles\";\n        style.innerHTML = styles;\n        document.head.appendChild(style);\n    }\n}\nfunction AnimatedChatWithVideo() {\n    _s();\n    const [question, setQuestion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const handleNavigate = (text)=>setQuestion(text.trim());\n    return question ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_video_learning_page__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        question: question,\n        onBack: ()=>setQuestion(\"\")\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n        lineNumber: 56,\n        columnNumber: 5\n    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AnimatedAIChat, {\n        onNavigateToVideoLearning: handleNavigate,\n        onSend: ()=>{}\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n        lineNumber: 61,\n        columnNumber: 5\n    }, this);\n}\n_s(AnimatedChatWithVideo, \"EjuEa88CvKPy1NEgpqIj1pnONk4=\");\n_c = AnimatedChatWithVideo;\nfunction useAutoResizeTextarea(param) {\n    let { minHeight, maxHeight } = param;\n    _s1();\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const adjustHeight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((reset)=>{\n        const textarea = textareaRef.current;\n        if (!textarea) return;\n        textarea.style.height = \"\".concat(minHeight, \"px\");\n        if (!reset) {\n            const newHeight = Math.max(minHeight, Math.min(textarea.scrollHeight, maxHeight !== null && maxHeight !== void 0 ? maxHeight : Infinity));\n            textarea.style.height = \"\".concat(newHeight, \"px\");\n        }\n    }, [\n        minHeight,\n        maxHeight\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>adjustHeight(true), [\n        adjustHeight\n    ]);\n    return {\n        textareaRef,\n        adjustHeight\n    };\n}\n_s1(useAutoResizeTextarea, \"IRyl+ibCtvle/hehjmdGR/S8udo=\");\nconst Textarea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().forwardRef(_s2((param, ref)=>{\n    let { className, containerClassName, showRing = true, ...props } = param;\n    _s2();\n    const [focused, setFocused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative\", containerClassName),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm\", \"transition-all duration-200 ease-in-out placeholder:text-muted-foreground\", \"disabled:cursor-not-allowed disabled:opacity-50\", showRing && \"focus:outline-none\", className),\n                ref: ref,\n                onFocus: ()=>setFocused(true),\n                onBlur: ()=>setFocused(false),\n                ...props\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 108,\n                columnNumber: 9\n            }, undefined),\n            showRing && focused && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.span, {\n                className: \"absolute inset-0 rounded-md pointer-events-none ring-2 ring-white/20\",\n                initial: {\n                    opacity: 0\n                },\n                animate: {\n                    opacity: 1\n                },\n                exit: {\n                    opacity: 0\n                },\n                transition: {\n                    duration: 0.2\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 122,\n                columnNumber: 11\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n        lineNumber: 107,\n        columnNumber: 7\n    }, undefined);\n}, \"rwqZf9cBjrH2zIMw/NeLpi+hjZQ=\"));\n_c1 = Textarea;\nTextarea.displayName = \"Textarea\";\n/* ------------------------------------------------------------------ */ /* NEW lesson card component (inline)                                 */ /* ------------------------------------------------------------------ */ const StructuredLessonCard = (param)=>{\n    let { lesson, isStreamingComplete } = param;\n    _s3();\n    // Lightly sanitize markdown-like tokens and normalize bullets per line\n    // Lightly sanitize markdown-like tokens and normalize bullets per line\n    const sanitizeLine = (line)=>{\n        return line.replaceAll(\"**\", \"\").replace(/^\\s*[-*]\\s+/, \"• \").replace(/`{1,3}/g, \"\").trim();\n    };\n    // Normalize common section titles to a clean, consistent name\n    const normalizeTitle = (title)=>{\n        const t = title.trim();\n        if (/^\\s*(what\\s+is)\\b/i.test(t)) return \"Overview\";\n        if (/^\\s*(definition)\\b/i.test(t)) return \"Overview\";\n        if (/^\\s*overview\\b/i.test(t)) return \"Overview\";\n        return t.replace(/^\\s*#+\\s*/, \"\").trim();\n    };\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const handleTakeQuiz = ()=>{\n        try {\n            if (!(lesson === null || lesson === void 0 ? void 0 : lesson.quiz) || !Array.isArray(lesson.quiz) || lesson.quiz.length === 0) {\n                return;\n            }\n            const data = encodeURIComponent(JSON.stringify(lesson.quiz));\n            router.push(\"/quiz?data=\".concat(data));\n        } catch (err) {\n            console.error(\"Failed to navigate to quiz:\", err);\n        }\n    };\n    // Removed verbose debug logging for production readiness.\n    let blocks = [];\n    // TTS state and actions\n    const [audioUrl, setAudioUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isTtsLoading, setIsTtsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [audioQueue, setAudioQueue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentIndex, setCurrentIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const currentIndexRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const [isQueuePreloading, setIsQueuePreloading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        currentIndexRef.current = currentIndex;\n    }, [\n        currentIndex\n    ]);\n    const getFullLessonText = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const lines = [];\n        for (const b of blocks){\n            if (b.title) lines.push(\"\".concat(b.title));\n            lines.push(b.content);\n        }\n        return lines.join(\"\\n\\n\");\n    }, [\n        blocks\n    ]);\n    const objectUrlsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const fetchTTSBlobUrl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (text)=>{\n        const res = await fetch(\"\".concat(API_BASE, \"/api/tts\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                text\n            })\n        });\n        if (!res.ok) throw new Error(\"TTS error: \".concat(res.status));\n        const blob = await res.blob();\n        const url = URL.createObjectURL(blob);\n        objectUrlsRef.current.push(url);\n        return url;\n    }, []);\n    // Cleanup audio and revoke object URLs on unmount to prevent leaks\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            try {\n                if (audioRef.current) {\n                    audioRef.current.pause();\n                    audioRef.current.src = \"\";\n                }\n                for (const u of objectUrlsRef.current){\n                    URL.revokeObjectURL(u);\n                }\n                objectUrlsRef.current = [];\n            } catch (e) {\n            // Swallow cleanup errors\n            }\n        };\n    }, []);\n    const segments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const segs = [];\n        // Build segments directly from lesson structure for speed\n        if (typeof (lesson === null || lesson === void 0 ? void 0 : lesson.introduction) === \"string\") {\n            const intro = lesson.introduction.trim();\n            segs.push(intro.length > 600 ? intro.slice(0, 600) : intro);\n        }\n        if (Array.isArray(lesson === null || lesson === void 0 ? void 0 : lesson.sections)) {\n            for (const section of lesson.sections){\n                if (section === null || section === void 0 ? void 0 : section.content) {\n                    const c = String(section.content).trim();\n                    if (c) segs.push(c.length > 900 ? c.slice(0, 900) : c);\n                }\n            }\n        }\n        return segs.length ? segs : [\n            getFullLessonText()\n        ];\n    }, [\n        lesson,\n        getFullLessonText\n    ]);\n    const preloadTTS = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            setIsTtsLoading(true);\n            if (!segments.length) return;\n            const firstUrl = await fetchTTSBlobUrl(segments[0]);\n            setAudioUrl(firstUrl);\n            setAudioQueue([\n                firstUrl\n            ]);\n            setCurrentIndex(0);\n            // Preload the next segment in background if available\n            if (segments.length > 1) {\n                setIsQueuePreloading(true);\n                fetchTTSBlobUrl(segments[1]).then((u)=>setAudioQueue((q)=>[\n                            ...q,\n                            u\n                        ])).catch(console.error).finally(()=>setIsQueuePreloading(false));\n            }\n        } catch (e) {\n            console.error(e);\n        } finally{\n            setIsTtsLoading(false);\n        }\n    }, [\n        segments,\n        fetchTTSBlobUrl\n    ]);\n    const playTTS = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const src = audioQueue[currentIndexRef.current] || audioUrl;\n        if (!src) return;\n        if (!audioRef.current) {\n            audioRef.current = new Audio(src);\n            audioRef.current.addEventListener(\"play\", ()=>setIsPlaying(true));\n            audioRef.current.addEventListener(\"pause\", ()=>setIsPlaying(false));\n            audioRef.current.addEventListener(\"ended\", async ()=>{\n                const prevIndex = currentIndexRef.current;\n                const nextIndex = prevIndex + 1;\n                if (segments[nextIndex] && !audioQueue[nextIndex]) {\n                    try {\n                        const u = await fetchTTSBlobUrl(segments[nextIndex]);\n                        setAudioQueue((q)=>{\n                            const qq = q.slice();\n                            qq[nextIndex] = u;\n                            return qq;\n                        });\n                    } catch (e) {\n                        console.error(e);\n                    }\n                }\n                setCurrentIndex(nextIndex);\n                currentIndexRef.current = nextIndex;\n                const nextSrc = audioQueue[nextIndex];\n                if (nextSrc) {\n                    if (audioRef.current) {\n                        audioRef.current.src = nextSrc;\n                        audioRef.current.play().catch(console.error);\n                    }\n                } else {\n                    setIsPlaying(false);\n                }\n            });\n        } else {\n            audioRef.current.src = src;\n        }\n        audioRef.current.play().catch(console.error);\n    }, [\n        audioUrl,\n        audioQueue,\n        segments,\n        fetchTTSBlobUrl\n    ]);\n    const togglePlayPause = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (isTtsLoading || isQueuePreloading) return;\n        const hasPrepared = !!(audioUrl || audioQueue.length);\n        if (!audioRef.current) {\n            if (!hasPrepared) {\n                await preloadTTS();\n            }\n            playTTS();\n            return;\n        }\n        if (audioRef.current.paused) {\n            audioRef.current.play().catch(()=>{});\n        } else {\n            audioRef.current.pause();\n        }\n    }, [\n        audioUrl,\n        audioQueue,\n        isTtsLoading,\n        isQueuePreloading,\n        preloadTTS,\n        playTTS\n    ]);\n    // Auto-preload audio once streaming completes to reduce wait time\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isStreamingComplete && !audioUrl && !isTtsLoading) {\n            preloadTTS();\n        }\n    }, [\n        isStreamingComplete,\n        audioUrl,\n        isTtsLoading,\n        preloadTTS\n    ]);\n    if (typeof lesson.introduction === \"string\" && lesson.introduction.startsWith(\"Hey dear!\")) {\n        blocks.push({\n            content: lesson.introduction\n        });\n    } else {\n        if (lesson.introduction && typeof lesson.introduction === \"string\" && lesson.introduction.trim()) {\n            blocks.push({\n                title: \"Introduction\",\n                content: lesson.introduction.trim()\n            });\n        }\n        if (Array.isArray(lesson.classifications) && lesson.classifications.length > 0) {\n            const classificationContent = lesson.classifications.map((c)=>{\n                if ((c === null || c === void 0 ? void 0 : c.type) && (c === null || c === void 0 ? void 0 : c.description)) {\n                    return \"• \".concat(c.type, \": \").concat(c.description);\n                }\n                return null;\n            }).filter(Boolean).join(\"\\n\");\n            if (classificationContent) {\n                blocks.push({\n                    title: \"Classifications / Types\",\n                    content: classificationContent\n                });\n            }\n        }\n        // Detailed sections (now after classifications)\n        if (Array.isArray(lesson.sections)) {\n            for (const section of lesson.sections){\n                if ((section === null || section === void 0 ? void 0 : section.title) && (section === null || section === void 0 ? void 0 : section.content) && section.title.trim() && section.content.trim()) {\n                    blocks.push({\n                        title: normalizeTitle(section.title.trim()),\n                        content: section.content.trim()\n                    });\n                }\n            }\n        }\n        if (lesson.diagram && lesson.diagram.trim()) {\n            blocks.push({\n                title: \"Diagram Description\",\n                content: lesson.diagram.trim()\n            });\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n        initial: {\n            opacity: 0,\n            y: 20\n        },\n        animate: {\n            opacity: 1,\n            y: 0\n        },\n        className: \"mt-6 max-w-3xl mx-auto\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10 space-y-6\",\n                children: [\n                    blocks.map((block, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                block.title && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"font-bold text-white text-lg tracking-wide\",\n                                    children: block.title\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 394,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-white/85 text-sm leading-relaxed whitespace-pre-wrap font-sans\",\n                                    children: block.content.split(\"\\n\").map((line, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: sanitizeLine(line) || \"\\xa0\"\n                                        }, i, false, {\n                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                            lineNumber: 400,\n                                            columnNumber: 17\n                                        }, undefined))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 398,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, idx, true, {\n                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                            lineNumber: 392,\n                            columnNumber: 11\n                        }, undefined)),\n                    !blocks.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-white/60 italic text-sm\",\n                        children: \"No lesson content available.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                        lineNumber: 407,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 390,\n                columnNumber: 7\n            }, undefined),\n            isStreamingComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-end mt-6 gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                        whileHover: {\n                            scale: 1.03\n                        },\n                        whileTap: {\n                            scale: 0.97\n                        },\n                        onClick: togglePlayPause,\n                        disabled: isTtsLoading || isQueuePreloading,\n                        \"aria-pressed\": isPlaying,\n                        className: \"px-5 py-2 bg-white/10 text-white rounded-lg text-sm font-medium border border-white/20 hover:bg-white/20 transition-shadow flex items-center gap-1.5 disabled:opacity-60 disabled:cursor-not-allowed\",\n                        children: [\n                            isTtsLoading || isQueuePreloading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                className: \"w-3.5 h-3.5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                lineNumber: 423,\n                                columnNumber: 15\n                            }, undefined) : isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                className: \"w-3.5 h-3.5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                lineNumber: 425,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"w-3.5 h-3.5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                lineNumber: 427,\n                                columnNumber: 15\n                            }, undefined),\n                            isTtsLoading || isQueuePreloading ? \"Preparing audio…\" : isPlaying ? \"Pause\" : audioUrl || audioQueue.length ? \"Play\" : \"Prepare & Listen\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                        lineNumber: 414,\n                        columnNumber: 11\n                    }, undefined),\n                    lesson.quiz && lesson.quiz.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                        whileHover: {\n                            scale: 1.03\n                        },\n                        whileTap: {\n                            scale: 0.97\n                        },\n                        onClick: handleTakeQuiz,\n                        className: \"px-5 py-2 bg-white text-black rounded-lg text-sm font-medium shadow-md hover:shadow-lg transition-shadow flex items-center gap-1.5\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                className: \"w-3.5 h-3.5\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                lineNumber: 445,\n                                columnNumber: 15\n                            }, undefined),\n                            \"Take Quiz\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                        lineNumber: 439,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 413,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n        lineNumber: 385,\n        columnNumber: 5\n    }, undefined);\n};\n_s3(StructuredLessonCard, \"WYH683hZQouGNqWOLvz4cZJ61XQ=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_4__.useRouter\n    ];\n});\n_c2 = StructuredLessonCard;\nfunction AnimatedAIChat(param) {\n    let { onNavigateToVideoLearning } = param;\n    _s4();\n    /* --- state ------------------------------------------------------- */ const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [attachments, setAttachments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [streamingText, setStreamingText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showCommandPalette, setShowCommandPalette] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeSuggestion, setActiveSuggestion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const mouseX = (0,_barrel_optimize_names_useMotionValue_framer_motion__WEBPACK_IMPORTED_MODULE_13__.useMotionValue)(0);\n    const mouseY = (0,_barrel_optimize_names_useMotionValue_framer_motion__WEBPACK_IMPORTED_MODULE_13__.useMotionValue)(0);\n    const [inputFocused, setInputFocused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showVideoButton, setShowVideoButton] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [storedLong, setStoredLong] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lessonJson, setLessonJson] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // NEW\n    const [retryCount, setRetryCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const MAX_RETRIES = 3;\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [saveMessage, setSaveMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showSaveMessage, setShowSaveMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [userAge, setUserAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const { textareaRef: autoRef, adjustHeight } = useAutoResizeTextarea({\n        minHeight: 60,\n        maxHeight: 200\n    });\n    /* --- command palette data ---------------------------------------- */ const commandSuggestions = [\n        {\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                className: \"w-4 h-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 501,\n                columnNumber: 13\n            }, this),\n            label: \"Explain Mode\",\n            description: \"Detailed video explanation\",\n            prefix: \"/video\"\n        },\n        {\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                className: \"w-4 h-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 502,\n                columnNumber: 13\n            }, this),\n            label: \"Step-by-Step\",\n            description: \"Break complex topics down\",\n            prefix: \"/steps\"\n        },\n        {\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                className: \"w-4 h-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 503,\n                columnNumber: 13\n            }, this),\n            label: \"Interactive Demo\",\n            description: \"See it in action\",\n            prefix: \"/demo\"\n        },\n        {\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                className: \"w-4 h-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 504,\n                columnNumber: 13\n            }, this),\n            label: \"Quick Answer\",\n            description: \"Concise explanation\",\n            prefix: \"/quick\"\n        }\n    ];\n    const modeSuggestions = [\n        {\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                className: \"w-4 h-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 510,\n                columnNumber: 13\n            }, this),\n            label: \"Explanation Mode\",\n            description: \"Comprehensive Ai explanations\",\n            action: ()=>onNavigateToVideoLearning === null || onNavigateToVideoLearning === void 0 ? void 0 : onNavigateToVideoLearning(value.trim() || \"What would you like to learn?\")\n        },\n        {\n            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                className: \"w-4 h-4\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 519,\n                columnNumber: 13\n            }, this),\n            label: \"Add Term Plan\",\n            description: \"Build a long-term study schedule\",\n            action: ()=>router.push(\"/term-plan\")\n        }\n    ];\n    /* --- effects ----------------------------------------------------- */ // Retrieve user age on component mount - ONLY for authenticated users\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const getUserAge = async ()=>{\n            try {\n                const { data: { session } } = await _lib_db__WEBPACK_IMPORTED_MODULE_7__.supabase.auth.getSession();\n                // Only proceed if user is properly authenticated\n                if (session === null || session === void 0 ? void 0 : session.user) {\n                    var _session_user_user_metadata, _userData_user_metadata;\n                    // First try to get age from user metadata\n                    const age = (_session_user_user_metadata = session.user.user_metadata) === null || _session_user_user_metadata === void 0 ? void 0 : _session_user_user_metadata.age;\n                    if (age) {\n                        setUserAge(age);\n                        return;\n                    }\n                    // If not in metadata, try to get from users table\n                    const { data: userData } = await _lib_db__WEBPACK_IMPORTED_MODULE_7__.supabase.from(\"users\").select(\"user_metadata\").eq(\"id\", session.user.id).single();\n                    if (userData === null || userData === void 0 ? void 0 : (_userData_user_metadata = userData.user_metadata) === null || _userData_user_metadata === void 0 ? void 0 : _userData_user_metadata.age) {\n                        setUserAge(userData.user_metadata.age);\n                    }\n                }\n            // Remove the else block - no age-based features for unauthenticated users\n            // Age-based responses, term plans, and history are only for registered users\n            } catch (error) {\n                console.error(\"Error retrieving user age:\", error);\n            }\n        };\n        getUserAge();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (value.startsWith(\"/\") && !value.includes(\" \")) {\n            setShowCommandPalette(true);\n            const idx = commandSuggestions.findIndex((cmd)=>cmd.prefix.startsWith(value));\n            setActiveSuggestion(idx);\n        } else {\n            setShowCommandPalette(false);\n        }\n    }, [\n        value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleMouseMove = (e)=>{\n            mouseX.set(e.clientX);\n            mouseY.set(e.clientY);\n        };\n        window.addEventListener(\"mousemove\", handleMouseMove);\n        return ()=>{\n            window.removeEventListener(\"mousemove\", handleMouseMove);\n        };\n    }, [\n        mouseX,\n        mouseY\n    ]);\n    /* --- handlers ---------------------------------------------------- */ const handleSendMessage = async ()=>{\n        var _abortRef_current;\n        const q = value.trim();\n        if (!q) return;\n        (_abortRef_current = abortRef.current) === null || _abortRef_current === void 0 ? void 0 : _abortRef_current.abort();\n        abortRef.current = new AbortController();\n        setIsTyping(true);\n        setStreamingText(\"\");\n        setStoredLong(\"\");\n        setShowVideoButton(false);\n        setLessonJson(null);\n        setError(null);\n        // legacy video path\n        if (q.startsWith(\"/video\")) {\n            const sid = localStorage.getItem(\"lana_sid\") || \"\";\n            const es = new EventSource(\"\".concat(API_BASE, \"/ask/stream?q=\").concat(encodeURIComponent(q), \"&sid=\").concat(encodeURIComponent(sid)), {\n                withCredentials: false\n            });\n            es.onmessage = (ev)=>{\n                try {\n                    const data = JSON.parse(ev.data);\n                    if (data.error) {\n                        setError(\"Error: \" + data.error);\n                        es.close();\n                        setIsTyping(false);\n                        return;\n                    }\n                    if (data.short !== undefined) setStreamingText(data.short);\n                    if (data.long) setStoredLong(data.long);\n                    if (data.done) {\n                        es.close();\n                        setIsTyping(false);\n                        setShowVideoButton(true);\n                    }\n                } catch (e) {\n                    console.error(\"Error parsing EventSource data:\", e);\n                    setError(\"Failed to parse response data\");\n                    es.close();\n                    setIsTyping(false);\n                }\n            };\n            es.onerror = (e)=>{\n                console.error(\"EventSource error:\", e);\n                setError(\"Connection failed\");\n                es.close();\n                setIsTyping(false);\n            };\n            abortRef.current.signal.addEventListener(\"abort\", ()=>es.close());\n            return;\n        }\n        // ✅ OPTIMIZED structured-lesson STREAMING path — FAST MODE\n        try {\n            const response = await fetch(\"\".concat(API_BASE, \"/api/structured-lesson/stream\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    topic: q,\n                    age: userAge\n                }),\n                signal: abortRef.current.signal\n            });\n            if (!response.ok) throw new Error(\"HTTP error! status: \".concat(response.status));\n            const reader = response.body.getReader();\n            const decoder = new TextDecoder();\n            let buffer = \"\";\n            let finalLesson = null;\n            let isComplete = false;\n            setIsTyping(true);\n            // Start save search immediately (parallel processing)\n            const savePromise = (0,_lib_search__WEBPACK_IMPORTED_MODULE_6__.saveSearch)(q.trim()).then((saveResult)=>{\n                console.log(\"✅ saveSearch result:\", saveResult);\n                if (saveResult === null || saveResult === void 0 ? void 0 : saveResult.message) {\n                    setSaveMessage(saveResult.message);\n                    setShowSaveMessage(true);\n                    setTimeout(()=>{\n                        setShowSaveMessage(false);\n                        setTimeout(()=>setSaveMessage(null), 300);\n                    }, 5000);\n                }\n            }).catch(console.error);\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) break;\n                buffer += decoder.decode(value, {\n                    stream: true\n                });\n                const lines = buffer.split(\"\\n\");\n                buffer = lines.pop() || \"\";\n                for (const ln of lines){\n                    if (!ln.startsWith(\"data:\")) continue;\n                    try {\n                        const msg = JSON.parse(ln.slice(5).trim());\n                        switch(msg.type){\n                            case \"done\":\n                                // ULTRA-FAST processing - instant response\n                                finalLesson = msg.lesson;\n                                isComplete = true;\n                                setLessonJson(finalLesson);\n                                setShowVideoButton(true);\n                                setIsTyping(false);\n                                // Ensure save completes\n                                await savePromise;\n                                return;\n                            case \"error\":\n                                setError(msg.message);\n                                setIsTyping(false);\n                                return;\n                        }\n                    } catch (e) {\n                    // Skip malformed messages\n                    }\n                }\n            }\n        } catch (e) {\n            if (e.name === \"AbortError\") console.log(\"aborted\");\n            else setError(e.message || \"Streaming failed\");\n            if (retryCount < MAX_RETRIES) {\n                setTimeout(()=>{\n                    setRetryCount((prev)=>prev + 1);\n                    handleSendMessage();\n                }, 1000 * (retryCount + 1));\n            }\n        } finally{\n            setIsTyping(false);\n            setValue(\"\");\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (showCommandPalette) {\n            if (e.key === \"ArrowDown\") {\n                e.preventDefault();\n                setActiveSuggestion((p)=>p < commandSuggestions.length - 1 ? p + 1 : 0);\n            } else if (e.key === \"ArrowUp\") {\n                e.preventDefault();\n                setActiveSuggestion((p)=>p > 0 ? p - 1 : commandSuggestions.length - 1);\n            } else if (e.key === \"Enter\") {\n                e.preventDefault();\n                if (activeSuggestion >= 0) {\n                    const cmd = commandSuggestions[activeSuggestion];\n                    setValue(cmd.prefix + \" \");\n                    setShowCommandPalette(false);\n                }\n            }\n        } else if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    const handleAttachFile = ()=>setAttachments((prev)=>[\n                ...prev,\n                \"file-\".concat(Math.random().toString(36).slice(2), \".pdf\")\n            ]);\n    const removeAttachment = (idx)=>setAttachments((prev)=>prev.filter((_, i)=>i !== idx));\n    /* ------------------------------------------------------------------ */ /* render                                                             */ /* ------------------------------------------------------------------ */ return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col w-full items-center justify-center bg-transparent text-white p-6 relative overflow-hidden min-h-[calc(100vh-3rem)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 w-full h-full overflow-hidden pointer-events-none\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 left-1/4 w-96 h-96 bg-white/5 rounded-full blur-[128px] animate-pulse\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                        lineNumber: 760,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 right-1/4 w-96 h-96 bg-gray-300/5 rounded-full blur-[128px] animate-pulse delay-700\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                        lineNumber: 761,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-1/4 right-1/3 w-64 h-64 bg-white/2 rounded-full blur-[96px] animate-pulse delay-1000\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                        lineNumber: 762,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 759,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full max-w-2xl mx-auto relative\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                    className: \"relative z-10 space-y-12\",\n                    initial: {\n                        opacity: 0,\n                        y: 20\n                    },\n                    animate: {\n                        opacity: 1,\n                        y: 0\n                    },\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeOut\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_17__.AnimatePresence, {\n                            children: saveMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: -10\n                                },\n                                animate: {\n                                    opacity: showSaveMessage ? 1 : 0,\n                                    y: showSaveMessage ? 0 : -10\n                                },\n                                exit: {\n                                    opacity: 0,\n                                    y: -10\n                                },\n                                transition: {\n                                    duration: 0.3\n                                },\n                                className: \"mb-6\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"border rounded-xl p-3 text-sm max-w-md mx-auto\", saveMessage.includes(\"saved\") || saveMessage.includes(\"history\") ? \"bg-green-500/10 border-green-500/20 text-green-200\" : \"bg-blue-500/10 border-blue-500/20 text-blue-200\"),\n                                    children: [\n                                        saveMessage,\n                                        saveMessage.includes(\"consider registering\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>router.push(\"/register\"),\n                                            className: \"ml-2 text-blue-300 hover:text-blue-100 underline\",\n                                            children: \"Register\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                            lineNumber: 790,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 782,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                lineNumber: 775,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                            lineNumber: 773,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center space-y-6\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 10\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                transition: {\n                                    delay: 0.3,\n                                    duration: 0.5\n                                },\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_logo__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            width: 160,\n                                            height: 100,\n                                            className: \"object-contain\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                            lineNumber: 812,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 811,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                        className: \"h-px bg-gradient-to-r from-transparent via-white/30 to-transparent max-w-md mx-auto\",\n                                        initial: {\n                                            width: 0,\n                                            opacity: 0\n                                        },\n                                        animate: {\n                                            width: \"100%\",\n                                            opacity: 1\n                                        },\n                                        transition: {\n                                            delay: 0.6,\n                                            duration: 0.8\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 819,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.p, {\n                                        className: \"text-lg text-white/70 max-w-lg mx-auto leading-relaxed\",\n                                        initial: {\n                                            opacity: 0\n                                        },\n                                        animate: {\n                                            opacity: 1\n                                        },\n                                        transition: {\n                                            delay: 0.8,\n                                            duration: 0.5\n                                        },\n                                        children: \"Get simple and clear breakdowns—any time.\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 826,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                lineNumber: 804,\n                                columnNumber: 11\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                            lineNumber: 803,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                            className: \"relative backdrop-blur-2xl bg-white/5 rounded-2xl border border-white/10 shadow-2xl\",\n                            initial: {\n                                scale: 0.98\n                            },\n                            animate: {\n                                scale: 1\n                            },\n                            transition: {\n                                delay: 0.1\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_17__.AnimatePresence, {\n                                    children: showCommandPalette && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                        className: \"absolute left-4 right-4 bottom-full mb-2 backdrop-blur-xl bg-black/90 rounded-lg z-50 shadow-lg border border-white/10 overflow-hidden\",\n                                        initial: {\n                                            opacity: 0,\n                                            y: 5\n                                        },\n                                        animate: {\n                                            opacity: 1,\n                                            y: 0\n                                        },\n                                        exit: {\n                                            opacity: 0,\n                                            y: 5\n                                        },\n                                        transition: {\n                                            duration: 0.15\n                                        },\n                                        children: commandSuggestions.map((s, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex items-center gap-2 px-3 py-2 text-xs transition-colors cursor-pointer\", activeSuggestion === idx ? \"bg-white/10 text-white\" : \"text-white/70 hover:bg-white/5\"),\n                                                onClick: ()=>{\n                                                    setValue(s.prefix + \" \");\n                                                    setShowCommandPalette(false);\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-5 h-5 flex-center text-white/60\",\n                                                        children: s.icon\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                        lineNumber: 868,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"font-medium\",\n                                                        children: s.label\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                        lineNumber: 869,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-white/40 ml-1\",\n                                                        children: s.prefix\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                        lineNumber: 870,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, s.prefix, true, {\n                                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                lineNumber: 855,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 847,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 845,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Textarea, {\n                                        ref: autoRef,\n                                        value: value,\n                                        onChange: (e)=>{\n                                            setValue(e.target.value);\n                                            adjustHeight();\n                                        },\n                                        onKeyDown: handleKeyDown,\n                                        onFocus: ()=>setInputFocused(true),\n                                        onBlur: ()=>setInputFocused(false),\n                                        placeholder: \"What would you like to learn today?\",\n                                        containerClassName: \"w-full\",\n                                        className: \"w-full px-4 py-3 resize-none bg-transparent border-none text-white/90 text-sm placeholder:text-white/30 min-h-[60px]\",\n                                        showRing: false\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 879,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 878,\n                                    columnNumber: 13\n                                }, this),\n                                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-4 pb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                        initial: {\n                                            opacity: 0,\n                                            y: 10\n                                        },\n                                        animate: {\n                                            opacity: 1,\n                                            y: 0\n                                        },\n                                        className: \"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-red-200 text-sm\",\n                                        children: [\n                                            error,\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setError(null),\n                                                className: \"ml-2 text-red-300 hover:text-red-100\",\n                                                children: \"✕\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                lineNumber: 905,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 899,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 898,\n                                    columnNumber: 15\n                                }, this),\n                                lessonJson && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"px-4 pb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StructuredLessonCard, {\n                                        lesson: lessonJson,\n                                        isStreamingComplete: !isTyping\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 917,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 916,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_17__.AnimatePresence, {\n                                    children: attachments.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                        className: \"px-4 pb-3 flex gap-2 flex-wrap\",\n                                        initial: {\n                                            opacity: 0,\n                                            height: 0\n                                        },\n                                        animate: {\n                                            opacity: 1,\n                                            height: \"auto\"\n                                        },\n                                        exit: {\n                                            opacity: 0,\n                                            height: 0\n                                        },\n                                        children: attachments.map((file, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                                className: \"flex items-center gap-2 text-xs bg-white/5 py-1.5 px-3 rounded-lg text-white/80 border border-white/10\",\n                                                initial: {\n                                                    opacity: 0,\n                                                    scale: 0.9\n                                                },\n                                                animate: {\n                                                    opacity: 1,\n                                                    scale: 1\n                                                },\n                                                exit: {\n                                                    opacity: 0,\n                                                    scale: 0.9\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: file\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                        lineNumber: 941,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>removeAttachment(idx),\n                                                        className: \"text-white/50 hover:text-white\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            className: \"w-3 h-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                            lineNumber: 946,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                        lineNumber: 942,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, idx, true, {\n                                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                lineNumber: 934,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 927,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 925,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4 border-t border-white/10 flex items-center justify-between gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                                    type: \"button\",\n                                                    onClick: handleAttachFile,\n                                                    whileTap: {\n                                                        scale: 0.94\n                                                    },\n                                                    className: \"p-2 text-white/50 hover:text-white rounded-lg\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                        lineNumber: 963,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                    lineNumber: 957,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                                    onClick: ()=>setShowCommandPalette((p)=>!p),\n                                                    whileTap: {\n                                                        scale: 0.94\n                                                    },\n                                                    className: \"p-2 text-white/50 hover:text-white rounded-lg\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                        lineNumber: 970,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                    lineNumber: 965,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                            lineNumber: 956,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                            onClick: handleSendMessage,\n                                            whileHover: {\n                                                scale: 1.01\n                                            },\n                                            whileTap: {\n                                                scale: 0.98\n                                            },\n                                            disabled: !value.trim() || isTyping,\n                                            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2\", value.trim() && !isTyping ? \"bg-white text-black shadow-lg shadow-white/20\" : \"bg-white/10 text-white/50\"),\n                                            children: [\n                                                isTyping ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"w-4 h-4 animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                    lineNumber: 987,\n                                                    columnNumber: 19\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                    lineNumber: 989,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Search\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                    lineNumber: 991,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                            lineNumber: 974,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 955,\n                                    columnNumber: 13\n                                }, this),\n                                showVideoButton && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                                    initial: {\n                                        opacity: 0,\n                                        y: 10\n                                    },\n                                    animate: {\n                                        opacity: 1,\n                                        y: 0\n                                    },\n                                    className: \"p-4 border-t border-white/10\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            var _lessonJson_introduction;\n                                            return onNavigateToVideoLearning === null || onNavigateToVideoLearning === void 0 ? void 0 : onNavigateToVideoLearning((lessonJson === null || lessonJson === void 0 ? void 0 : (_lessonJson_introduction = lessonJson.introduction) === null || _lessonJson_introduction === void 0 ? void 0 : _lessonJson_introduction.split(\"\\n\")[0]) || value.trim() || \"Generated Lesson\");\n                                        },\n                                        className: \"w-full flex items-center justify-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_BookOpen_Command_LoaderIcon_Paperclip_Pause_Play_SendIcon_Sparkles_Video_XIcon_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                lineNumber: 1008,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Create lesson\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                lineNumber: 1009,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                        lineNumber: 1002,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 997,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                            lineNumber: 838,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-md mx-auto\",\n                            children: modeSuggestions.map((mode, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {\n                                    onClick: mode.action,\n                                    className: \"group flex items-center gap-3 px-6 py-3 bg-white/5 hover:bg-white/10 rounded-xl text-sm text-white/80 hover:text-white transition-all border border-white/10 hover:border-white/20 min-w-[180px]\",\n                                    initial: {\n                                        opacity: 0,\n                                        y: 10\n                                    },\n                                    animate: {\n                                        opacity: 1,\n                                        y: 0\n                                    },\n                                    transition: {\n                                        delay: idx * 0.1\n                                    },\n                                    whileHover: {\n                                        scale: 1.02\n                                    },\n                                    whileTap: {\n                                        scale: 0.98\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-white/70 group-hover:text-white transition-colors\",\n                                            children: mode.icon\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                            lineNumber: 1028,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col items-start\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-medium\",\n                                                    children: mode.label\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                    lineNumber: 1032,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-white/50 group-hover:text-white/80 transition-colors\",\n                                                    children: mode.description\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                                    lineNumber: 1033,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                            lineNumber: 1031,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, mode.label, true, {\n                                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                                    lineNumber: 1018,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                            lineNumber: 1016,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                    lineNumber: 766,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 765,\n                columnNumber: 7\n            }, this),\n            inputFocused && !lessonJson && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AnimatePresence_motion_framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.div, {\n                className: \"fixed w-[50rem] h-[50rem] rounded-full pointer-events-none z-0 opacity-5 bg-gradient-to-r from-white via-gray-200 to-white blur-2xl\",\n                style: {\n                    x: mouseX,\n                    y: mouseY,\n                    translateX: \"-50%\",\n                    translateY: \"-50%\"\n                },\n                transition: {\n                    type: \"spring\",\n                    damping: 25,\n                    stiffness: 150,\n                    mass: 0.5\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n                lineNumber: 1045,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Muktar Goni Usman\\\\.qoder\\\\lana\\\\lana-ai-ox\\\\frontend\\\\components\\\\animated-ai-chat.tsx\",\n        lineNumber: 757,\n        columnNumber: 5\n    }, this);\n}\n_s4(AnimatedAIChat, \"QT7LaOfq5tSzHD8AFzM5viR0MJk=\", false, function() {\n    return [\n        _barrel_optimize_names_useMotionValue_framer_motion__WEBPACK_IMPORTED_MODULE_13__.useMotionValue,\n        _barrel_optimize_names_useMotionValue_framer_motion__WEBPACK_IMPORTED_MODULE_13__.useMotionValue,\n        next_navigation__WEBPACK_IMPORTED_MODULE_4__.useRouter,\n        useAutoResizeTextarea\n    ];\n});\n_c3 = AnimatedAIChat;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"AnimatedChatWithVideo\");\n$RefreshReg$(_c1, \"Textarea\");\n$RefreshReg$(_c2, \"StructuredLessonCard\");\n$RefreshReg$(_c3, \"AnimatedAIChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvYW5pbWF0ZWQtYWktY2hhdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWlGO0FBQ2hEO0FBWVg7QUFDa0M7QUFDRjtBQUNQO0FBQ1I7QUFDSztBQUNQO0FBQ0k7QUFDTDtBQUVwQyx3REFBd0Q7QUFDeEQsTUFBTTBCLFdBQVdDLHVCQUFnQyxJQUFJLENBQXVCO0FBQzVFLHNFQUFzRSxHQUN0RSx3RUFBd0UsR0FDeEUsc0VBQXNFLEdBQ3RFLE1BQU1HLFNBQVU7QUFTaEIsd0RBQXdEO0FBQ3hELElBQUksT0FBT0MsYUFBYSxhQUFhO0lBQ25DLE1BQU1DLFdBQVdELFNBQVNFLGNBQWMsQ0FBQztJQUN6QyxJQUFJLENBQUNELFVBQVU7UUFDYixNQUFNRSxRQUFRSCxTQUFTSSxhQUFhLENBQUM7UUFDckNELE1BQU1FLEVBQUUsR0FBRztRQUNYRixNQUFNRyxTQUFTLEdBQUdQO1FBQ2xCQyxTQUFTTyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0w7SUFDNUI7QUFDRjtBQUVlLFNBQVNNOztJQUN0QixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR3RDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU11QyxpQkFBaUIsQ0FBQ0MsT0FBaUJGLFlBQVlFLEtBQUtDLElBQUk7SUFFOUQsT0FBT0oseUJBQ0wsOERBQUN0Qiw0REFBaUJBO1FBQ2hCc0IsVUFBVUE7UUFDVkssUUFBUSxJQUFNSixZQUFZOzs7Ozs2QkFHNUIsOERBQUNLO1FBQ0NDLDJCQUEyQkw7UUFDM0JNLFFBQVEsS0FBTzs7Ozs7O0FBR3JCO0dBZndCVDtLQUFBQTtBQXdCeEIsU0FBU1Usc0JBQXNCLEtBQW9EO1FBQXBELEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUE4QixHQUFwRDs7SUFDN0IsTUFBTUMsY0FBY25ELDZDQUFNQSxDQUFzQjtJQUNoRCxNQUFNb0QsZUFBZW5ELGtEQUFXQSxDQUM5QixDQUFDb0Q7UUFDQyxNQUFNQyxXQUFXSCxZQUFZSSxPQUFPO1FBQ3BDLElBQUksQ0FBQ0QsVUFBVTtRQUNmQSxTQUFTdEIsS0FBSyxDQUFDd0IsTUFBTSxHQUFHLEdBQWEsT0FBVlAsV0FBVTtRQUNyQyxJQUFJLENBQUNJLE9BQU87WUFDVixNQUFNSSxZQUFZQyxLQUFLQyxHQUFHLENBQ3hCVixXQUNBUyxLQUFLRSxHQUFHLENBQUNOLFNBQVNPLFlBQVksRUFBRVgsc0JBQUFBLHVCQUFBQSxZQUFhWTtZQUUvQ1IsU0FBU3RCLEtBQUssQ0FBQ3dCLE1BQU0sR0FBRyxHQUFhLE9BQVZDLFdBQVU7UUFDdkM7SUFDRixHQUNBO1FBQUNSO1FBQVdDO0tBQVU7SUFFeEJuRCxnREFBU0EsQ0FBQyxJQUFNcUQsYUFBYSxPQUFPO1FBQUNBO0tBQWE7SUFDbEQsT0FBTztRQUFFRDtRQUFhQztJQUFhO0FBQ3JDO0lBbkJTSjtBQTRCVCxNQUFNZSx5QkFBV2pFLHVEQUFnQixLQUMvQixRQUErRG1FO1FBQTlELEVBQUVDLFNBQVMsRUFBRUMsa0JBQWtCLEVBQUVDLFdBQVcsSUFBSSxFQUFFLEdBQUdDLE9BQU87O0lBQzNELE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHckUsK0NBQVFBLENBQUM7SUFDdkMscUJBQ0UsOERBQUNzRTtRQUFJTixXQUFXOUQsOENBQUVBLENBQUMsWUFBWStEOzswQkFDN0IsOERBQUNiO2dCQUNDWSxXQUFXOUQsOENBQUVBLENBQ1gsMkZBQ0EsNkVBQ0EsbURBQ0FnRSxZQUFZLHNCQUNaRjtnQkFFRkQsS0FBS0E7Z0JBQ0xRLFNBQVMsSUFBTUYsV0FBVztnQkFDMUJHLFFBQVEsSUFBTUgsV0FBVztnQkFDeEIsR0FBR0YsS0FBSzs7Ozs7O1lBRVZELFlBQVlFLHlCQUNYLDhEQUFDdkQsK0ZBQU1BLENBQUM0RCxJQUFJO2dCQUNWVCxXQUFVO2dCQUNWVSxTQUFTO29CQUFFQyxTQUFTO2dCQUFFO2dCQUN0QkMsU0FBUztvQkFBRUQsU0FBUztnQkFBRTtnQkFDdEJFLE1BQU07b0JBQUVGLFNBQVM7Z0JBQUU7Z0JBQ25CRyxZQUFZO29CQUFFQyxVQUFVO2dCQUFJOzs7Ozs7Ozs7Ozs7QUFLdEM7TUE3QklsQjtBQStCTkEsU0FBU21CLFdBQVcsR0FBRztBQUV2QixzRUFBc0UsR0FDdEUsc0VBQXNFLEdBQ3RFLHNFQUFzRSxHQUN0RSxNQUFNQyx1QkFBdUI7UUFBQyxFQUFFQyxNQUFNLEVBQUVDLG1CQUFtQixFQUFpRDs7SUFDMUcsdUVBQXVFO0lBQ3ZFLHVFQUF1RTtJQUN2RSxNQUFNQyxlQUFlLENBQUNDO1FBQ3BCLE9BQU9BLEtBQ0pDLFVBQVUsQ0FBQyxNQUFNLElBQ2pCQyxPQUFPLENBQUMsZUFBZSxNQUN2QkEsT0FBTyxDQUFDLFdBQVcsSUFDbkI5QyxJQUFJO0lBQ1Q7SUFFQSw4REFBOEQ7SUFDOUQsTUFBTStDLGlCQUFpQixDQUFDQztRQUN0QixNQUFNQyxJQUFJRCxNQUFNaEQsSUFBSTtRQUNwQixJQUFJLHFCQUFxQmtELElBQUksQ0FBQ0QsSUFBSSxPQUFPO1FBQ3pDLElBQUksc0JBQXNCQyxJQUFJLENBQUNELElBQUksT0FBTztRQUMxQyxJQUFJLGtCQUFrQkMsSUFBSSxDQUFDRCxJQUFJLE9BQU87UUFDdEMsT0FBT0EsRUFBRUgsT0FBTyxDQUFDLGFBQWEsSUFBSTlDLElBQUk7SUFDeEM7SUFDQSxNQUFNbUQsU0FBUzFFLDBEQUFTQTtJQUN4QixNQUFNMkUsaUJBQWlCO1FBQ3JCLElBQUk7WUFDRixJQUFJLEVBQUNYLG1CQUFBQSw2QkFBQUEsT0FBUVksSUFBSSxLQUFJLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ2QsT0FBT1ksSUFBSSxLQUFLWixPQUFPWSxJQUFJLENBQUNHLE1BQU0sS0FBSyxHQUFHO2dCQUM1RTtZQUNGO1lBQ0EsTUFBTUMsT0FBT0MsbUJBQW1CQyxLQUFLQyxTQUFTLENBQUNuQixPQUFPWSxJQUFJO1lBQzFERixPQUFPVSxJQUFJLENBQUMsY0FBbUIsT0FBTEo7UUFDNUIsRUFBRSxPQUFPSyxLQUFLO1lBQ1pDLFFBQVFDLEtBQUssQ0FBQywrQkFBK0JGO1FBQy9DO0lBQ0Y7SUFFQSwwREFBMEQ7SUFDMUQsSUFBSUcsU0FBZ0QsRUFBRTtJQUV0RCx3QkFBd0I7SUFDeEIsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUc1RywrQ0FBUUEsQ0FBZ0I7SUFDeEQsTUFBTSxDQUFDNkcsY0FBY0MsZ0JBQWdCLEdBQUc5RywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNK0csV0FBV2pILDZDQUFNQSxDQUEwQjtJQUNqRCxNQUFNLENBQUNrSCxZQUFZQyxjQUFjLEdBQUdqSCwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ3pELE1BQU0sQ0FBQ2tILGNBQWNDLGdCQUFnQixHQUFHbkgsK0NBQVFBLENBQUM7SUFDakQsTUFBTW9ILGtCQUFrQnRILDZDQUFNQSxDQUFDO0lBQy9CLE1BQU0sQ0FBQ3VILG1CQUFtQkMscUJBQXFCLEdBQUd0SCwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUN1SCxXQUFXQyxhQUFhLEdBQUd4SCwrQ0FBUUEsQ0FBQztJQUUzQ0gsZ0RBQVNBLENBQUM7UUFBUXVILGdCQUFnQi9ELE9BQU8sR0FBRzZEO0lBQWMsR0FBRztRQUFDQTtLQUFhO0lBRTNFLE1BQU1PLG9CQUFvQjFILGtEQUFXQSxDQUFDO1FBQ3BDLE1BQU0ySCxRQUFrQixFQUFFO1FBQzFCLEtBQUssTUFBTUMsS0FBS2pCLE9BQVE7WUFDdEIsSUFBSWlCLEVBQUVsQyxLQUFLLEVBQUVpQyxNQUFNcEIsSUFBSSxDQUFDLEdBQVcsT0FBUnFCLEVBQUVsQyxLQUFLO1lBQ2xDaUMsTUFBTXBCLElBQUksQ0FBQ3FCLEVBQUVDLE9BQU87UUFDdEI7UUFDQSxPQUFPRixNQUFNRyxJQUFJLENBQUM7SUFDcEIsR0FBRztRQUFDbkI7S0FBTztJQUVYLE1BQU1vQixnQkFBZ0JoSSw2Q0FBTUEsQ0FBVyxFQUFFO0lBQ3pDLE1BQU1pSSxrQkFBa0JoSSxrREFBV0EsQ0FBQyxPQUFPeUM7UUFDekMsTUFBTXdGLE1BQU0sTUFBTUMsTUFBTSxHQUFZLE9BQVQzRyxVQUFTLGFBQVc7WUFDN0M0RyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1lBQzlDQyxNQUFNaEMsS0FBS0MsU0FBUyxDQUFDO2dCQUFFN0Q7WUFBSztRQUM5QjtRQUNBLElBQUksQ0FBQ3dGLElBQUlLLEVBQUUsRUFBRSxNQUFNLElBQUlDLE1BQU0sY0FBeUIsT0FBWE4sSUFBSU8sTUFBTTtRQUNyRCxNQUFNQyxPQUFPLE1BQU1SLElBQUlRLElBQUk7UUFDM0IsTUFBTUMsTUFBTUMsSUFBSUMsZUFBZSxDQUFDSDtRQUNoQ1YsY0FBY3pFLE9BQU8sQ0FBQ2lELElBQUksQ0FBQ21DO1FBQzNCLE9BQU9BO0lBQ1QsR0FBRyxFQUFFO0lBRUwsbUVBQW1FO0lBQ25FNUksZ0RBQVNBLENBQUM7UUFDUixPQUFPO1lBQ0wsSUFBSTtnQkFDRixJQUFJa0gsU0FBUzFELE9BQU8sRUFBRTtvQkFDcEIwRCxTQUFTMUQsT0FBTyxDQUFDdUYsS0FBSztvQkFDdEI3QixTQUFTMUQsT0FBTyxDQUFDd0YsR0FBRyxHQUFHO2dCQUN6QjtnQkFDQSxLQUFLLE1BQU1DLEtBQUtoQixjQUFjekUsT0FBTyxDQUFFO29CQUNyQ3FGLElBQUlLLGVBQWUsQ0FBQ0Q7Z0JBQ3RCO2dCQUNBaEIsY0FBY3pFLE9BQU8sR0FBRyxFQUFFO1lBQzVCLEVBQUUsT0FBTzJGLEdBQUc7WUFDVix5QkFBeUI7WUFDM0I7UUFDRjtJQUNGLEdBQUcsRUFBRTtJQUVMLE1BQU1DLFdBQVdoSiw4Q0FBT0EsQ0FBQztRQUN2QixNQUFNaUosT0FBaUIsRUFBRTtRQUN6QiwwREFBMEQ7UUFDMUQsSUFBSSxRQUFPaEUsbUJBQUFBLDZCQUFBQSxPQUFRaUUsWUFBWSxNQUFLLFVBQVU7WUFDNUMsTUFBTUMsUUFBUWxFLE9BQU9pRSxZQUFZLENBQUMxRyxJQUFJO1lBQ3RDeUcsS0FBSzVDLElBQUksQ0FBQzhDLE1BQU1uRCxNQUFNLEdBQUcsTUFBTW1ELE1BQU1DLEtBQUssQ0FBQyxHQUFHLE9BQU9EO1FBQ3ZEO1FBQ0EsSUFBSXJELE1BQU1DLE9BQU8sQ0FBQ2QsbUJBQUFBLDZCQUFBQSxPQUFRb0UsUUFBUSxHQUFHO1lBQ25DLEtBQUssTUFBTUMsV0FBV3JFLE9BQU9vRSxRQUFRLENBQUU7Z0JBQ3JDLElBQUlDLG9CQUFBQSw4QkFBQUEsUUFBUzNCLE9BQU8sRUFBRTtvQkFDcEIsTUFBTTRCLElBQUlDLE9BQU9GLFFBQVEzQixPQUFPLEVBQUVuRixJQUFJO29CQUN0QyxJQUFJK0csR0FBR04sS0FBSzVDLElBQUksQ0FBQ2tELEVBQUV2RCxNQUFNLEdBQUcsTUFBTXVELEVBQUVILEtBQUssQ0FBQyxHQUFHLE9BQU9HO2dCQUN0RDtZQUNGO1FBQ0Y7UUFDQSxPQUFPTixLQUFLakQsTUFBTSxHQUFHaUQsT0FBTztZQUFDekI7U0FBb0I7SUFDbkQsR0FBRztRQUFDdkM7UUFBUXVDO0tBQWtCO0lBRTlCLE1BQU1pQyxhQUFhM0osa0RBQVdBLENBQUM7UUFDN0IsSUFBSTtZQUNGK0csZ0JBQWdCO1lBQ2hCLElBQUksQ0FBQ21DLFNBQVNoRCxNQUFNLEVBQUU7WUFDdEIsTUFBTTBELFdBQVcsTUFBTTVCLGdCQUFnQmtCLFFBQVEsQ0FBQyxFQUFFO1lBQ2xEckMsWUFBWStDO1lBQ1oxQyxjQUFjO2dCQUFDMEM7YUFBUztZQUN4QnhDLGdCQUFnQjtZQUNoQixzREFBc0Q7WUFDdEQsSUFBSThCLFNBQVNoRCxNQUFNLEdBQUcsR0FBRztnQkFDdkJxQixxQkFBcUI7Z0JBQ3JCUyxnQkFBZ0JrQixRQUFRLENBQUMsRUFBRSxFQUN4QlcsSUFBSSxDQUFDLENBQUNkLElBQU03QixjQUFjLENBQUM0QyxJQUFNOytCQUFJQTs0QkFBR2Y7eUJBQUUsR0FDMUNnQixLQUFLLENBQUN0RCxRQUFRQyxLQUFLLEVBQ25Cc0QsT0FBTyxDQUFDLElBQU16QyxxQkFBcUI7WUFDeEM7UUFDRixFQUFFLE9BQU8wQixHQUFHO1lBQ1Z4QyxRQUFRQyxLQUFLLENBQUN1QztRQUNoQixTQUFVO1lBQ1JsQyxnQkFBZ0I7UUFDbEI7SUFDRixHQUFHO1FBQUNtQztRQUFVbEI7S0FBZ0I7SUFFOUIsTUFBTWlDLFVBQVVqSyxrREFBV0EsQ0FBQztRQUMxQixNQUFNOEksTUFBTTdCLFVBQVUsQ0FBQ0ksZ0JBQWdCL0QsT0FBTyxDQUFDLElBQUlzRDtRQUNuRCxJQUFJLENBQUNrQyxLQUFLO1FBQ1YsSUFBSSxDQUFDOUIsU0FBUzFELE9BQU8sRUFBRTtZQUNyQjBELFNBQVMxRCxPQUFPLEdBQUcsSUFBSTRHLE1BQU1wQjtZQUM3QjlCLFNBQVMxRCxPQUFPLENBQUM2RyxnQkFBZ0IsQ0FBQyxRQUFRLElBQU0xQyxhQUFhO1lBQzdEVCxTQUFTMUQsT0FBTyxDQUFDNkcsZ0JBQWdCLENBQUMsU0FBUyxJQUFNMUMsYUFBYTtZQUM5RFQsU0FBUzFELE9BQU8sQ0FBQzZHLGdCQUFnQixDQUFDLFNBQVM7Z0JBQ3pDLE1BQU1DLFlBQVkvQyxnQkFBZ0IvRCxPQUFPO2dCQUN6QyxNQUFNK0csWUFBWUQsWUFBWTtnQkFDOUIsSUFBSWxCLFFBQVEsQ0FBQ21CLFVBQVUsSUFBSSxDQUFDcEQsVUFBVSxDQUFDb0QsVUFBVSxFQUFFO29CQUNqRCxJQUFJO3dCQUNGLE1BQU10QixJQUFJLE1BQU1mLGdCQUFnQmtCLFFBQVEsQ0FBQ21CLFVBQVU7d0JBQ25EbkQsY0FBYyxDQUFDNEM7NEJBQ2IsTUFBTVEsS0FBS1IsRUFBRVIsS0FBSzs0QkFDbEJnQixFQUFFLENBQUNELFVBQVUsR0FBR3RCOzRCQUNoQixPQUFPdUI7d0JBQ1Q7b0JBQ0YsRUFBRSxPQUFPckIsR0FBRzt3QkFDVnhDLFFBQVFDLEtBQUssQ0FBQ3VDO29CQUNoQjtnQkFDRjtnQkFDQTdCLGdCQUFnQmlEO2dCQUNoQmhELGdCQUFnQi9ELE9BQU8sR0FBRytHO2dCQUMxQixNQUFNRSxVQUFVdEQsVUFBVSxDQUFDb0QsVUFBVTtnQkFDckMsSUFBSUUsU0FBUztvQkFDWCxJQUFJdkQsU0FBUzFELE9BQU8sRUFBRTt3QkFDcEIwRCxTQUFTMUQsT0FBTyxDQUFDd0YsR0FBRyxHQUFHeUI7d0JBQ3ZCdkQsU0FBUzFELE9BQU8sQ0FBQ2tILElBQUksR0FBR1QsS0FBSyxDQUFDdEQsUUFBUUMsS0FBSztvQkFDN0M7Z0JBQ0YsT0FBTztvQkFDTGUsYUFBYTtnQkFDZjtZQUNGO1FBQ0YsT0FBTztZQUNMVCxTQUFTMUQsT0FBTyxDQUFDd0YsR0FBRyxHQUFHQTtRQUN6QjtRQUNBOUIsU0FBUzFELE9BQU8sQ0FBQ2tILElBQUksR0FBR1QsS0FBSyxDQUFDdEQsUUFBUUMsS0FBSztJQUM3QyxHQUFHO1FBQUNFO1FBQVVLO1FBQVlpQztRQUFVbEI7S0FBZ0I7SUFFcEQsTUFBTXlDLGtCQUFrQnpLLGtEQUFXQSxDQUFDO1FBQ2xDLElBQUk4RyxnQkFBZ0JRLG1CQUFtQjtRQUN2QyxNQUFNb0QsY0FBYyxDQUFDLENBQUU5RCxDQUFBQSxZQUFZSyxXQUFXZixNQUFNO1FBQ3BELElBQUksQ0FBQ2MsU0FBUzFELE9BQU8sRUFBRTtZQUNyQixJQUFJLENBQUNvSCxhQUFhO2dCQUNoQixNQUFNZjtZQUNSO1lBQ0FNO1lBQ0E7UUFDRjtRQUNBLElBQUlqRCxTQUFTMUQsT0FBTyxDQUFDcUgsTUFBTSxFQUFFO1lBQzNCM0QsU0FBUzFELE9BQU8sQ0FBQ2tILElBQUksR0FBR1QsS0FBSyxDQUFDLEtBQU87UUFDdkMsT0FBTztZQUNML0MsU0FBUzFELE9BQU8sQ0FBQ3VGLEtBQUs7UUFDeEI7SUFDRixHQUFHO1FBQUNqQztRQUFVSztRQUFZSDtRQUFjUTtRQUFtQnFDO1FBQVlNO0tBQVE7SUFFL0Usa0VBQWtFO0lBQ2xFbkssZ0RBQVNBLENBQUM7UUFDUixJQUFJc0YsdUJBQXVCLENBQUN3QixZQUFZLENBQUNFLGNBQWM7WUFDckQ2QztRQUNGO0lBQ0YsR0FBRztRQUFDdkU7UUFBcUJ3QjtRQUFVRTtRQUFjNkM7S0FBVztJQUU1RCxJQUFJLE9BQU94RSxPQUFPaUUsWUFBWSxLQUFLLFlBQVlqRSxPQUFPaUUsWUFBWSxDQUFDd0IsVUFBVSxDQUFDLGNBQWM7UUFDMUZqRSxPQUFPSixJQUFJLENBQUM7WUFBRXNCLFNBQVMxQyxPQUFPaUUsWUFBWTtRQUFDO0lBQzdDLE9BQU87UUFDTCxJQUFJakUsT0FBT2lFLFlBQVksSUFBSSxPQUFPakUsT0FBT2lFLFlBQVksS0FBSyxZQUFZakUsT0FBT2lFLFlBQVksQ0FBQzFHLElBQUksSUFBSTtZQUNoR2lFLE9BQU9KLElBQUksQ0FBQztnQkFDVmIsT0FBTztnQkFDUG1DLFNBQVMxQyxPQUFPaUUsWUFBWSxDQUFDMUcsSUFBSTtZQUNuQztRQUNGO1FBRUEsSUFDRXNELE1BQU1DLE9BQU8sQ0FBQ2QsT0FBTzBGLGVBQWUsS0FDcEMxRixPQUFPMEYsZUFBZSxDQUFDM0UsTUFBTSxHQUFHLEdBQ2hDO1lBQ0EsTUFBTTRFLHdCQUF3QjNGLE9BQU8wRixlQUFlLENBQ2pERSxHQUFHLENBQUMsQ0FBQ3RCO2dCQUNKLElBQUlBLENBQUFBLGNBQUFBLHdCQUFBQSxFQUFHdUIsSUFBSSxNQUFJdkIsY0FBQUEsd0JBQUFBLEVBQUd3QixXQUFXLEdBQUU7b0JBQzdCLE9BQU8sS0FBZ0J4QixPQUFYQSxFQUFFdUIsSUFBSSxFQUFDLE1BQWtCLE9BQWR2QixFQUFFd0IsV0FBVztnQkFDdEM7Z0JBQ0EsT0FBTztZQUNULEdBQ0NDLE1BQU0sQ0FBQ0MsU0FDUHJELElBQUksQ0FBQztZQUVSLElBQUlnRCx1QkFBdUI7Z0JBQ3pCbkUsT0FBT0osSUFBSSxDQUFDO29CQUNWYixPQUFPO29CQUNQbUMsU0FBU2lEO2dCQUNYO1lBQ0Y7UUFDRjtRQUVBLGdEQUFnRDtRQUNoRCxJQUFJOUUsTUFBTUMsT0FBTyxDQUFDZCxPQUFPb0UsUUFBUSxHQUFHO1lBQ2xDLEtBQUssTUFBTUMsV0FBV3JFLE9BQU9vRSxRQUFRLENBQUU7Z0JBQ3JDLElBQUlDLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBUzlELEtBQUssTUFBSThELG9CQUFBQSw4QkFBQUEsUUFBUzNCLE9BQU8sS0FBSTJCLFFBQVE5RCxLQUFLLENBQUNoRCxJQUFJLE1BQU04RyxRQUFRM0IsT0FBTyxDQUFDbkYsSUFBSSxJQUFJO29CQUN4RmlFLE9BQU9KLElBQUksQ0FBQzt3QkFDVmIsT0FBT0QsZUFBZStELFFBQVE5RCxLQUFLLENBQUNoRCxJQUFJO3dCQUN4Q21GLFNBQVMyQixRQUFRM0IsT0FBTyxDQUFDbkYsSUFBSTtvQkFDL0I7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUEsSUFBSXlDLE9BQU9pRyxPQUFPLElBQUlqRyxPQUFPaUcsT0FBTyxDQUFDMUksSUFBSSxJQUFJO1lBQzNDaUUsT0FBT0osSUFBSSxDQUFDO2dCQUNWYixPQUFPO2dCQUNQbUMsU0FBUzFDLE9BQU9pRyxPQUFPLENBQUMxSSxJQUFJO1lBQzlCO1FBQ0Y7SUFDRjtJQUVBLHFCQUNFLDhEQUFDNUIsK0ZBQU1BLENBQUN5RCxHQUFHO1FBQ1RJLFNBQVM7WUFBRUMsU0FBUztZQUFHeUcsR0FBRztRQUFHO1FBQzdCeEcsU0FBUztZQUFFRCxTQUFTO1lBQUd5RyxHQUFHO1FBQUU7UUFDNUJwSCxXQUFVOzswQkFFViw4REFBQ007Z0JBQUlOLFdBQVU7O29CQUNaMEMsT0FBT29FLEdBQUcsQ0FBQyxDQUFDTyxPQUFPQyxvQkFDbEIsOERBQUNoSDs0QkFBY04sV0FBVTs7Z0NBQ3RCcUgsTUFBTTVGLEtBQUssa0JBQ1YsOERBQUM4RjtvQ0FBR3ZILFdBQVU7OENBQ1hxSCxNQUFNNUYsS0FBSzs7Ozs7OzhDQUdoQiw4REFBQ25CO29DQUFJTixXQUFVOzhDQUNacUgsTUFBTXpELE9BQU8sQ0FBQzRELEtBQUssQ0FBQyxNQUFNVixHQUFHLENBQUMsQ0FBQ3pGLE1BQU1vRyxrQkFDcEMsOERBQUNuSDtzREFBYWMsYUFBYUMsU0FBUzsyQ0FBMUJvRzs7Ozs7Ozs7Ozs7MkJBUk5IOzs7OztvQkFjWCxDQUFDNUUsT0FBT1QsTUFBTSxrQkFDYiw4REFBQ3lGO3dCQUFFMUgsV0FBVTtrQ0FBK0I7Ozs7Ozs7Ozs7OztZQUsvQ21CLHFDQUNDLDhEQUFDYjtnQkFBSU4sV0FBVTs7a0NBQ2IsOERBQUNuRCwrRkFBTUEsQ0FBQzhLLE1BQU07d0JBQ1pDLFlBQVk7NEJBQUVDLE9BQU87d0JBQUs7d0JBQzFCQyxVQUFVOzRCQUFFRCxPQUFPO3dCQUFLO3dCQUN4QkUsU0FBU3ZCO3dCQUNUd0IsVUFBVW5GLGdCQUFnQlE7d0JBQzFCNEUsZ0JBQWMxRTt3QkFDZHZELFdBQVU7OzRCQUVUNkMsZ0JBQWdCUSxrQ0FDZiw4REFBQzlHLDBKQUFVQTtnQ0FBQ3lELFdBQVU7Ozs7OzRDQUNwQnVELDBCQUNGLDhEQUFDN0csMkpBQUtBO2dDQUFDc0QsV0FBVTs7Ozs7MERBRWpCLDhEQUFDdkQsMkpBQUlBO2dDQUFDdUQsV0FBVTs7Ozs7OzRCQUVqQjZDLGdCQUFnQlEsb0JBQ2IscUJBQ0FFLFlBQ0EsVUFDQVosWUFBWUssV0FBV2YsTUFBTSxHQUM3QixTQUNBOzs7Ozs7O29CQUdMZixPQUFPWSxJQUFJLElBQUlaLE9BQU9ZLElBQUksQ0FBQ0csTUFBTSxHQUFHLG1CQUNuQyw4REFBQ3BGLCtGQUFNQSxDQUFDOEssTUFBTTt3QkFDWkMsWUFBWTs0QkFBRUMsT0FBTzt3QkFBSzt3QkFDMUJDLFVBQVU7NEJBQUVELE9BQU87d0JBQUs7d0JBQ3hCRSxTQUFTbEc7d0JBQ1Q3QixXQUFVOzswQ0FFViw4REFBQ3hELDJKQUFRQTtnQ0FBQ3dELFdBQVU7Ozs7Ozs0QkFBZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbEQ7SUExVE1pQjs7UUFtQlcvRCxzREFBU0E7OztNQW5CcEIrRDtBQTJVRyxTQUFTdEMsZUFBZSxLQUFrRDtRQUFsRCxFQUFFQyx5QkFBeUIsRUFBdUIsR0FBbEQ7O0lBQy9CLHFFQUFxRSxHQUNyRSxNQUFNLENBQUNzSixPQUFPQyxTQUFTLEdBQUduTSwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNvTSxhQUFhQyxlQUFlLEdBQUdyTSwrQ0FBUUEsQ0FBVyxFQUFFO0lBQzNELE1BQU0sQ0FBQ3NNLFVBQVVDLFlBQVksR0FBR3ZNLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ3dNLGVBQWVDLGlCQUFpQixHQUFHek0sK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDME0sb0JBQW9CQyxzQkFBc0IsR0FBRzNNLCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQzRNLGtCQUFrQkMsb0JBQW9CLEdBQUc3TSwrQ0FBUUEsQ0FBQyxDQUFDO0lBQzFELE1BQU04TSxTQUFTOUwsb0dBQWNBLENBQUM7SUFDOUIsTUFBTStMLFNBQVMvTCxvR0FBY0EsQ0FBQztJQUM5QixNQUFNLENBQUNnTSxjQUFjQyxnQkFBZ0IsR0FBR2pOLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2tOLGlCQUFpQkMsbUJBQW1CLEdBQUduTiwrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUNvTixZQUFZQyxjQUFjLEdBQUdyTiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNzTixZQUFZQyxjQUFjLEdBQUd2TiwrQ0FBUUEsQ0FBTSxPQUFTLE1BQU07SUFDakUsTUFBTSxDQUFDd04sWUFBWUMsY0FBYyxHQUFHek4sK0NBQVFBLENBQUM7SUFDN0MsTUFBTTBOLGNBQWM7SUFDcEIsTUFBTXpLLGNBQWNuRCw2Q0FBTUEsQ0FBc0I7SUFDaEQsTUFBTTZOLFdBQVc3Tiw2Q0FBTUEsQ0FBeUI7SUFDaEQsTUFBTSxDQUFDMkcsT0FBT21ILFNBQVMsR0FBRzVOLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUM2TixhQUFhQyxlQUFlLEdBQUc5TiwrQ0FBUUEsQ0FBZ0I7SUFDOUQsTUFBTSxDQUFDK04saUJBQWlCQyxtQkFBbUIsR0FBR2hPLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ2lPLFNBQVNDLFdBQVcsR0FBR2xPLCtDQUFRQSxDQUFnQjtJQUN0RCxNQUFNNEYsU0FBUzFFLDBEQUFTQTtJQUV4QixNQUFNLEVBQUUrQixhQUFha0wsT0FBTyxFQUFFakwsWUFBWSxFQUFFLEdBQUdKLHNCQUFzQjtRQUNuRUMsV0FBVztRQUNYQyxXQUFXO0lBQ2I7SUFFQSxxRUFBcUUsR0FDckUsTUFBTW9MLHFCQUEwQztRQUM5QztZQUFFQyxvQkFBTSw4REFBQzFOLDJKQUFLQTtnQkFBQ3FELFdBQVU7Ozs7OztZQUFjc0ssT0FBTztZQUFnQnRELGFBQWE7WUFBOEJ1RCxRQUFRO1FBQVM7UUFDMUg7WUFBRUYsb0JBQU0sOERBQUN6TiwySkFBUUE7Z0JBQUNvRCxXQUFVOzs7Ozs7WUFBY3NLLE9BQU87WUFBZ0J0RCxhQUFhO1lBQTZCdUQsUUFBUTtRQUFTO1FBQzVIO1lBQUVGLG9CQUFNLDhEQUFDNU4sMkpBQUlBO2dCQUFDdUQsV0FBVTs7Ozs7O1lBQWNzSyxPQUFPO1lBQW9CdEQsYUFBYTtZQUFvQnVELFFBQVE7UUFBUTtRQUNsSDtZQUFFRixvQkFBTSw4REFBQzdOLDJKQUFRQTtnQkFBQ3dELFdBQVU7Ozs7OztZQUFjc0ssT0FBTztZQUFnQnRELGFBQWE7WUFBdUJ1RCxRQUFRO1FBQVM7S0FDdkg7SUFHRCxNQUFNQyxrQkFBa0I7UUFDdEI7WUFDRUgsb0JBQU0sOERBQUMxTiwySkFBS0E7Z0JBQUNxRCxXQUFVOzs7Ozs7WUFDdkJzSyxPQUFPO1lBQ1B0RCxhQUFhO1lBQ2J5RCxRQUFRLElBQ043TCxzQ0FBQUEsZ0RBQUFBLDBCQUNFc0osTUFBTXpKLElBQUksTUFBTTtRQUV0QjtRQUNBO1lBQ0U0TCxvQkFBTSw4REFBQ3BOLGlGQUFJQTtnQkFBQytDLFdBQVU7Ozs7OztZQUN0QnNLLE9BQU87WUFDUHRELGFBQWE7WUFDYnlELFFBQVEsSUFBTTdJLE9BQU9VLElBQUksQ0FBQztRQUM1QjtLQUNEO0lBRUQscUVBQXFFLEdBQ3JFLHNFQUFzRTtJQUN0RXpHLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTZPLGFBQWE7WUFDakIsSUFBSTtnQkFDRixNQUFNLEVBQUV4SSxNQUFNLEVBQUV5SSxPQUFPLEVBQUUsRUFBRSxHQUFHLE1BQU10Tiw2Q0FBUUEsQ0FBQ3VOLElBQUksQ0FBQ0MsVUFBVTtnQkFFNUQsaURBQWlEO2dCQUNqRCxJQUFJRixvQkFBQUEsOEJBQUFBLFFBQVNHLElBQUksRUFBRTt3QkFFTEgsNkJBYVJJO29CQWRKLDBDQUEwQztvQkFDMUMsTUFBTUMsT0FBTUwsOEJBQUFBLFFBQVFHLElBQUksQ0FBQ0csYUFBYSxjQUExQk4sa0RBQUFBLDRCQUE0QkssR0FBRztvQkFDM0MsSUFBSUEsS0FBSzt3QkFDUGQsV0FBV2M7d0JBQ1g7b0JBQ0Y7b0JBRUEsa0RBQWtEO29CQUNsRCxNQUFNLEVBQUU5SSxNQUFNNkksUUFBUSxFQUFFLEdBQUcsTUFBTTFOLDZDQUFRQSxDQUN0QzZOLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMsaUJBQ1BDLEVBQUUsQ0FBQyxNQUFNVCxRQUFRRyxJQUFJLENBQUM5TSxFQUFFLEVBQ3hCcU4sTUFBTTtvQkFFVCxJQUFJTixxQkFBQUEsZ0NBQUFBLDBCQUFBQSxTQUFVRSxhQUFhLGNBQXZCRiw4Q0FBQUEsd0JBQXlCQyxHQUFHLEVBQUU7d0JBQ2hDZCxXQUFXYSxTQUFTRSxhQUFhLENBQUNELEdBQUc7b0JBQ3ZDO2dCQUNGO1lBQ0EsMEVBQTBFO1lBQzFFLDZFQUE2RTtZQUMvRSxFQUFFLE9BQU92SSxPQUFPO2dCQUNkRCxRQUFRQyxLQUFLLENBQUMsOEJBQThCQTtZQUM5QztRQUNGO1FBRUFpSTtJQUNGLEdBQUcsRUFBRTtJQUVMN08sZ0RBQVNBLENBQUM7UUFDUixJQUFJcU0sTUFBTXZCLFVBQVUsQ0FBQyxRQUFRLENBQUN1QixNQUFNb0QsUUFBUSxDQUFDLE1BQU07WUFDakQzQyxzQkFBc0I7WUFDdEIsTUFBTXJCLE1BQU04QyxtQkFBbUJtQixTQUFTLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSWpCLE1BQU0sQ0FBQzVELFVBQVUsQ0FBQ3VCO1lBQ3hFVyxvQkFBb0J2QjtRQUN0QixPQUFPO1lBQ0xxQixzQkFBc0I7UUFDeEI7SUFDRixHQUFHO1FBQUNUO0tBQU07SUFFVnJNLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTRQLGtCQUFrQixDQUFDekc7WUFDdkI4RCxPQUFPNEMsR0FBRyxDQUFDMUcsRUFBRTJHLE9BQU87WUFDcEI1QyxPQUFPMkMsR0FBRyxDQUFDMUcsRUFBRTRHLE9BQU87UUFDdEI7UUFFQUMsT0FBTzNGLGdCQUFnQixDQUFDLGFBQWF1RjtRQUVyQyxPQUFPO1lBQ0xJLE9BQU9DLG1CQUFtQixDQUFDLGFBQWFMO1FBQzFDO0lBQ0YsR0FBRztRQUFDM0M7UUFBUUM7S0FBTztJQUVuQixxRUFBcUUsR0FDckUsTUFBTWdELG9CQUFvQjtZQUl4QnBDO1FBSEEsTUFBTTlELElBQUlxQyxNQUFNekosSUFBSTtRQUNwQixJQUFJLENBQUNvSCxHQUFHO1NBRVI4RCxvQkFBQUEsU0FBU3RLLE9BQU8sY0FBaEJzSyx3Q0FBQUEsa0JBQWtCcUMsS0FBSztRQUN2QnJDLFNBQVN0SyxPQUFPLEdBQUcsSUFBSTRNO1FBQ3ZCMUQsWUFBWTtRQUNaRSxpQkFBaUI7UUFDakJZLGNBQWM7UUFDZEYsbUJBQW1CO1FBQ25CSSxjQUFjO1FBQ2RLLFNBQVM7UUFFVCxvQkFBb0I7UUFDcEIsSUFBSS9ELEVBQUVjLFVBQVUsQ0FBQyxXQUFXO1lBQzFCLE1BQU11RixNQUFNQyxhQUFhQyxPQUFPLENBQUMsZUFBZTtZQUNoRCxNQUFNQyxLQUFLLElBQUlDLFlBQ2IsR0FBNEJuSyxPQUF6QjdFLFVBQVMsa0JBQTZDNkUsT0FBN0JBLG1CQUFtQjBELElBQUcsU0FBK0IsT0FBeEIxRCxtQkFBbUIrSixPQUM1RTtnQkFBRUssaUJBQWlCO1lBQU07WUFFM0JGLEdBQUdHLFNBQVMsR0FBRyxDQUFDQztnQkFDZCxJQUFJO29CQUNGLE1BQU12SyxPQUFPRSxLQUFLc0ssS0FBSyxDQUFDRCxHQUFHdkssSUFBSTtvQkFDL0IsSUFBSUEsS0FBS08sS0FBSyxFQUFFO3dCQUNkbUgsU0FBUyxZQUFZMUgsS0FBS08sS0FBSzt3QkFDL0I0SixHQUFHTSxLQUFLO3dCQUNScEUsWUFBWTt3QkFDWjtvQkFDRjtvQkFDQSxJQUFJckcsS0FBSzBLLEtBQUssS0FBS0MsV0FBV3BFLGlCQUFpQnZHLEtBQUswSyxLQUFLO29CQUN6RCxJQUFJMUssS0FBSzRLLElBQUksRUFBRXpELGNBQWNuSCxLQUFLNEssSUFBSTtvQkFDdEMsSUFBSTVLLEtBQUs2SyxJQUFJLEVBQUU7d0JBQ2JWLEdBQUdNLEtBQUs7d0JBQ1JwRSxZQUFZO3dCQUNaWSxtQkFBbUI7b0JBQ3JCO2dCQUNGLEVBQUUsT0FBT25FLEdBQUc7b0JBQ1Z4QyxRQUFRQyxLQUFLLENBQUMsbUNBQW1DdUM7b0JBQ2pENEUsU0FBUztvQkFDVHlDLEdBQUdNLEtBQUs7b0JBQ1JwRSxZQUFZO2dCQUNkO1lBQ0Y7WUFDQThELEdBQUdXLE9BQU8sR0FBRyxDQUFDaEk7Z0JBQ1p4QyxRQUFRQyxLQUFLLENBQUMsc0JBQXNCdUM7Z0JBQ3BDNEUsU0FBUztnQkFDVHlDLEdBQUdNLEtBQUs7Z0JBQ1JwRSxZQUFZO1lBQ2Q7WUFDQW9CLFNBQVN0SyxPQUFPLENBQUM0TixNQUFNLENBQUMvRyxnQkFBZ0IsQ0FBQyxTQUFTLElBQU1tRyxHQUFHTSxLQUFLO1lBQ2hFO1FBQ0Y7UUFFQSwyREFBMkQ7UUFDM0QsSUFBSTtZQUNGLE1BQU1PLFdBQVcsTUFBTWpKLE1BQU0sR0FBWSxPQUFUM0csVUFBUyxrQ0FBZ0M7Z0JBQ3ZFNEcsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTWhDLEtBQUtDLFNBQVMsQ0FBQztvQkFBRThLLE9BQU90SDtvQkFBR21GLEtBQUtmO2dCQUFRO2dCQUM5Q2dELFFBQVF0RCxTQUFTdEssT0FBTyxDQUFDNE4sTUFBTTtZQUNqQztZQUVBLElBQUksQ0FBQ0MsU0FBUzdJLEVBQUUsRUFBRSxNQUFNLElBQUlDLE1BQU0sdUJBQXVDLE9BQWhCNEksU0FBUzNJLE1BQU07WUFFeEUsTUFBTTZJLFNBQVNGLFNBQVM5SSxJQUFJLENBQUVpSixTQUFTO1lBQ3ZDLE1BQU1DLFVBQVUsSUFBSUM7WUFFcEIsSUFBSUMsU0FBUztZQUNiLElBQUlDLGNBQW1CO1lBQ3ZCLElBQUlDLGFBQWE7WUFFakJuRixZQUFZO1lBRVosc0RBQXNEO1lBQ3RELE1BQU1vRixjQUFjdlEsdURBQVVBLENBQUN5SSxFQUFFcEgsSUFBSSxJQUFJbUgsSUFBSSxDQUFDZ0ksQ0FBQUE7Z0JBQzVDcEwsUUFBUXFMLEdBQUcsQ0FBQyx3QkFBd0JEO2dCQUNwQyxJQUFJQSx1QkFBQUEsaUNBQUFBLFdBQVlFLE9BQU8sRUFBRTtvQkFDdkJoRSxlQUFlOEQsV0FBV0UsT0FBTztvQkFDakM5RCxtQkFBbUI7b0JBQ25CK0QsV0FBVzt3QkFDVC9ELG1CQUFtQjt3QkFDbkIrRCxXQUFXLElBQU1qRSxlQUFlLE9BQU87b0JBQ3pDLEdBQUc7Z0JBQ0w7WUFDRixHQUFHaEUsS0FBSyxDQUFDdEQsUUFBUUMsS0FBSztZQUV0QixNQUFPLEtBQU07Z0JBQ1gsTUFBTSxFQUFFc0ssSUFBSSxFQUFFN0UsS0FBSyxFQUFFLEdBQUcsTUFBTWtGLE9BQU9ZLElBQUk7Z0JBQ3pDLElBQUlqQixNQUFNO2dCQUVWUyxVQUFVRixRQUFRVyxNQUFNLENBQUMvRixPQUFPO29CQUFFZ0csUUFBUTtnQkFBSztnQkFDL0MsTUFBTXhLLFFBQVE4SixPQUFPaEcsS0FBSyxDQUFDO2dCQUMzQmdHLFNBQVM5SixNQUFNeUssR0FBRyxNQUFNO2dCQUV4QixLQUFLLE1BQU1DLE1BQU0xSyxNQUFPO29CQUN0QixJQUFJLENBQUMwSyxHQUFHekgsVUFBVSxDQUFDLFVBQVU7b0JBQzdCLElBQUk7d0JBQ0YsTUFBTTBILE1BQU1qTSxLQUFLc0ssS0FBSyxDQUFDMEIsR0FBRy9JLEtBQUssQ0FBQyxHQUFHNUcsSUFBSTt3QkFFdkMsT0FBUTRQLElBQUl0SCxJQUFJOzRCQUNkLEtBQUs7Z0NBQ0gsMkNBQTJDO2dDQUMzQzBHLGNBQWNZLElBQUluTixNQUFNO2dDQUN4QndNLGFBQWE7Z0NBQ2JuRSxjQUFja0U7Z0NBQ2R0RSxtQkFBbUI7Z0NBQ25CWixZQUFZO2dDQUVaLHdCQUF3QjtnQ0FDeEIsTUFBTW9GO2dDQUNOOzRCQUVGLEtBQUs7Z0NBQ0gvRCxTQUFTeUUsSUFBSVAsT0FBTztnQ0FDcEJ2RixZQUFZO2dDQUNaO3dCQUNKO29CQUNGLEVBQUUsT0FBT3ZELEdBQUc7b0JBQ1YsMEJBQTBCO29CQUM1QjtnQkFDRjtZQUNGO1FBQ0YsRUFBRSxPQUFPQSxHQUFRO1lBQ2YsSUFBSUEsRUFBRXNKLElBQUksS0FBSyxjQUFjOUwsUUFBUXFMLEdBQUcsQ0FBQztpQkFDcENqRSxTQUFTNUUsRUFBRThJLE9BQU8sSUFBSTtZQUUzQixJQUFJdEUsYUFBYUUsYUFBYTtnQkFDNUJxRSxXQUFXO29CQUNUdEUsY0FBYzhFLENBQUFBLE9BQVFBLE9BQU87b0JBQzdCeEM7Z0JBQ0YsR0FBRyxPQUFRdkMsQ0FBQUEsYUFBYTtZQUMxQjtRQUNGLFNBQVU7WUFDUmpCLFlBQVk7WUFDWkosU0FBUztRQUNYO0lBQ0Y7SUFFQSxNQUFNcUcsZ0JBQWdCLENBQUN4SjtRQUNyQixJQUFJMEQsb0JBQW9CO1lBQ3RCLElBQUkxRCxFQUFFeUosR0FBRyxLQUFLLGFBQWE7Z0JBQ3pCekosRUFBRTBKLGNBQWM7Z0JBQ2hCN0Ysb0JBQW9CLENBQUNuQixJQUFPQSxJQUFJMEMsbUJBQW1CbkksTUFBTSxHQUFHLElBQUl5RixJQUFJLElBQUk7WUFDMUUsT0FBTyxJQUFJMUMsRUFBRXlKLEdBQUcsS0FBSyxXQUFXO2dCQUM5QnpKLEVBQUUwSixjQUFjO2dCQUNoQjdGLG9CQUFvQixDQUFDbkIsSUFBT0EsSUFBSSxJQUFJQSxJQUFJLElBQUkwQyxtQkFBbUJuSSxNQUFNLEdBQUc7WUFDMUUsT0FBTyxJQUFJK0MsRUFBRXlKLEdBQUcsS0FBSyxTQUFTO2dCQUM1QnpKLEVBQUUwSixjQUFjO2dCQUNoQixJQUFJOUYsb0JBQW9CLEdBQUc7b0JBQ3pCLE1BQU00QyxNQUFNcEIsa0JBQWtCLENBQUN4QixpQkFBaUI7b0JBQ2hEVCxTQUFTcUQsSUFBSWpCLE1BQU0sR0FBRztvQkFDdEI1QixzQkFBc0I7Z0JBQ3hCO1lBQ0Y7UUFDRixPQUFPLElBQUkzRCxFQUFFeUosR0FBRyxLQUFLLFdBQVcsQ0FBQ3pKLEVBQUUySixRQUFRLEVBQUU7WUFDM0MzSixFQUFFMEosY0FBYztZQUNoQjNDO1FBQ0Y7SUFDRjtJQUVBLE1BQU02QyxtQkFBbUIsSUFDdkJ2RyxlQUFlLENBQUNrRyxPQUFTO21CQUFJQTtnQkFBTyxRQUEyQyxPQUFwQy9PLEtBQUtxUCxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJekosS0FBSyxDQUFDLElBQUc7YUFBTTtJQUV2RixNQUFNMEosbUJBQW1CLENBQUN6SCxNQUN4QmUsZUFBZSxDQUFDa0csT0FBU0EsS0FBS3RILE1BQU0sQ0FBQyxDQUFDK0gsR0FBR3ZILElBQU1BLE1BQU1IO0lBRXZELHNFQUFzRSxHQUN0RSxzRUFBc0UsR0FDdEUsc0VBQXNFLEdBQ3RFLHFCQUNFLDhEQUFDaEg7UUFBSU4sV0FBVTs7MEJBRWIsOERBQUNNO2dCQUFJTixXQUFVOztrQ0FDYiw4REFBQ007d0JBQUlOLFdBQVU7Ozs7OztrQ0FDZiw4REFBQ007d0JBQUlOLFdBQVU7Ozs7OztrQ0FDZiw4REFBQ007d0JBQUlOLFdBQVU7Ozs7Ozs7Ozs7OzswQkFHakIsOERBQUNNO2dCQUFJTixXQUFVOzBCQUNiLDRFQUFDbkQsK0ZBQU1BLENBQUN5RCxHQUFHO29CQUNUTixXQUFVO29CQUNWVSxTQUFTO3dCQUFFQyxTQUFTO3dCQUFHeUcsR0FBRztvQkFBRztvQkFDN0J4RyxTQUFTO3dCQUFFRCxTQUFTO3dCQUFHeUcsR0FBRztvQkFBRTtvQkFDNUJ0RyxZQUFZO3dCQUFFQyxVQUFVO3dCQUFLa08sTUFBTTtvQkFBVTs7c0NBRy9DLDhEQUFDblMseUdBQWVBO3NDQUNiK00sNkJBQ0MsOERBQUNoTiwrRkFBTUEsQ0FBQ3lELEdBQUc7Z0NBQ1RJLFNBQVM7b0NBQUVDLFNBQVM7b0NBQUd5RyxHQUFHLENBQUM7Z0NBQUc7Z0NBQzlCeEcsU0FBUztvQ0FBRUQsU0FBU29KLGtCQUFrQixJQUFJO29DQUFHM0MsR0FBRzJDLGtCQUFrQixJQUFJLENBQUM7Z0NBQUc7Z0NBQzFFbEosTUFBTTtvQ0FBRUYsU0FBUztvQ0FBR3lHLEdBQUcsQ0FBQztnQ0FBRztnQ0FDM0J0RyxZQUFZO29DQUFFQyxVQUFVO2dDQUFJO2dDQUM1QmYsV0FBVTswQ0FFViw0RUFBQ007b0NBQUlOLFdBQVc5RCw4Q0FBRUEsQ0FDaEIsa0RBQ0EyTixZQUFZeUIsUUFBUSxDQUFDLFlBQVl6QixZQUFZeUIsUUFBUSxDQUFDLGFBQ2xELHVEQUNBOzt3Q0FFSHpCO3dDQUNBQSxZQUFZeUIsUUFBUSxDQUFDLHlDQUNwQiw4REFBQzNEOzRDQUNDSSxTQUFTLElBQU1uRyxPQUFPVSxJQUFJLENBQUM7NENBQzNCdEMsV0FBVTtzREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQ0FVWCw4REFBQ007NEJBQUlOLFdBQVU7c0NBQ2IsNEVBQUNuRCwrRkFBTUEsQ0FBQ3lELEdBQUc7Z0NBQ1RJLFNBQVM7b0NBQUVDLFNBQVM7b0NBQUd5RyxHQUFHO2dDQUFHO2dDQUM3QnhHLFNBQVM7b0NBQUVELFNBQVM7b0NBQUd5RyxHQUFHO2dDQUFFO2dDQUM1QnRHLFlBQVk7b0NBQUVvTyxPQUFPO29DQUFLbk8sVUFBVTtnQ0FBSTtnQ0FDeENmLFdBQVU7O2tEQUdWLDhEQUFDTTt3Q0FBSU4sV0FBVTtrREFDYiw0RUFBQzdDLHdEQUFJQTs0Q0FDSGdTLE9BQU87NENBQ1A3UCxRQUFROzRDQUNSVSxXQUFVOzs7Ozs7Ozs7OztrREFJZCw4REFBQ25ELCtGQUFNQSxDQUFDeUQsR0FBRzt3Q0FDVE4sV0FBVTt3Q0FDVlUsU0FBUzs0Q0FBRXlPLE9BQU87NENBQUd4TyxTQUFTO3dDQUFFO3dDQUNoQ0MsU0FBUzs0Q0FBRXVPLE9BQU87NENBQVF4TyxTQUFTO3dDQUFFO3dDQUNyQ0csWUFBWTs0Q0FBRW9PLE9BQU87NENBQUtuTyxVQUFVO3dDQUFJOzs7Ozs7a0RBRzFDLDhEQUFDbEUsK0ZBQU1BLENBQUM2SyxDQUFDO3dDQUNQMUgsV0FBVTt3Q0FDVlUsU0FBUzs0Q0FBRUMsU0FBUzt3Q0FBRTt3Q0FDdEJDLFNBQVM7NENBQUVELFNBQVM7d0NBQUU7d0NBQ3RCRyxZQUFZOzRDQUFFb08sT0FBTzs0Q0FBS25PLFVBQVU7d0NBQUk7a0RBQ3pDOzs7Ozs7Ozs7Ozs7Ozs7OztzQ0FPSCw4REFBQ2xFLCtGQUFNQSxDQUFDeUQsR0FBRzs0QkFDVE4sV0FBVTs0QkFDVlUsU0FBUztnQ0FBRW1ILE9BQU87NEJBQUs7NEJBQ3ZCakgsU0FBUztnQ0FBRWlILE9BQU87NEJBQUU7NEJBQ3BCL0csWUFBWTtnQ0FBRW9PLE9BQU87NEJBQUk7OzhDQUd6Qiw4REFBQ3BTLHlHQUFlQTs4Q0FDYjRMLG9DQUNDLDhEQUFDN0wsK0ZBQU1BLENBQUN5RCxHQUFHO3dDQUNUTixXQUFVO3dDQUNWVSxTQUFTOzRDQUFFQyxTQUFTOzRDQUFHeUcsR0FBRzt3Q0FBRTt3Q0FDNUJ4RyxTQUFTOzRDQUFFRCxTQUFTOzRDQUFHeUcsR0FBRzt3Q0FBRTt3Q0FDNUJ2RyxNQUFNOzRDQUFFRixTQUFTOzRDQUFHeUcsR0FBRzt3Q0FBRTt3Q0FDekJ0RyxZQUFZOzRDQUFFQyxVQUFVO3dDQUFLO2tEQUU1QnFKLG1CQUFtQnRELEdBQUcsQ0FBQyxDQUFDc0ksR0FBRzlILG9CQUMxQiw4REFBQ3pLLCtGQUFNQSxDQUFDeUQsR0FBRztnREFFVE4sV0FBVzlELDhDQUFFQSxDQUNYLDhFQUNBME0scUJBQXFCdEIsTUFDakIsMkJBQ0E7Z0RBRU5TLFNBQVM7b0RBQ1BJLFNBQVNpSCxFQUFFN0UsTUFBTSxHQUFHO29EQUNwQjVCLHNCQUFzQjtnREFDeEI7O2tFQUVBLDhEQUFDckk7d0RBQUlOLFdBQVU7a0VBQXFDb1AsRUFBRS9FLElBQUk7Ozs7OztrRUFDMUQsOERBQUMvSjt3REFBSU4sV0FBVTtrRUFBZW9QLEVBQUU5RSxLQUFLOzs7Ozs7a0VBQ3JDLDhEQUFDaEs7d0RBQUlOLFdBQVU7a0VBQXNCb1AsRUFBRTdFLE1BQU07Ozs7Ozs7K0NBZHhDNkUsRUFBRTdFLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs4Q0FzQnZCLDhEQUFDaks7b0NBQUlOLFdBQVU7OENBQ2IsNEVBQUNIO3dDQUNDRSxLQUFLb0s7d0NBQ0xqQyxPQUFPQTt3Q0FDUG1ILFVBQVUsQ0FBQ3JLOzRDQUNUbUQsU0FBU25ELEVBQUVzSyxNQUFNLENBQUNwSCxLQUFLOzRDQUN2QmhKO3dDQUNGO3dDQUNBcVEsV0FBV2Y7d0NBQ1hqTyxTQUFTLElBQU0wSSxnQkFBZ0I7d0NBQy9CekksUUFBUSxJQUFNeUksZ0JBQWdCO3dDQUM5QnVHLGFBQVk7d0NBQ1p2UCxvQkFBbUI7d0NBQ25CRCxXQUFVO3dDQUNWRSxVQUFVOzs7Ozs7Ozs7OztnQ0FLYnVDLHVCQUNDLDhEQUFDbkM7b0NBQUlOLFdBQVU7OENBQ2IsNEVBQUNuRCwrRkFBTUEsQ0FBQ3lELEdBQUc7d0NBQ1RJLFNBQVM7NENBQUVDLFNBQVM7NENBQUd5RyxHQUFHO3dDQUFHO3dDQUM3QnhHLFNBQVM7NENBQUVELFNBQVM7NENBQUd5RyxHQUFHO3dDQUFFO3dDQUM1QnBILFdBQVU7OzRDQUVUeUM7MERBQ0QsOERBQUNrRjtnREFDQ0ksU0FBUyxJQUFNNkIsU0FBUztnREFDeEI1SixXQUFVOzBEQUNYOzs7Ozs7Ozs7Ozs7Ozs7OztnQ0FPTnNKLDRCQUNDLDhEQUFDaEo7b0NBQUlOLFdBQVU7OENBQ2IsNEVBQUNpQjt3Q0FDQ0MsUUFBUW9JO3dDQUNSbkkscUJBQXFCLENBQUNtSDs7Ozs7Ozs7Ozs7OENBTTVCLDhEQUFDeEwseUdBQWVBOzhDQUNic0wsWUFBWW5HLE1BQU0sR0FBRyxtQkFDcEIsOERBQUNwRiwrRkFBTUEsQ0FBQ3lELEdBQUc7d0NBQ1ROLFdBQVU7d0NBQ1ZVLFNBQVM7NENBQUVDLFNBQVM7NENBQUdyQixRQUFRO3dDQUFFO3dDQUNqQ3NCLFNBQVM7NENBQUVELFNBQVM7NENBQUdyQixRQUFRO3dDQUFPO3dDQUN0Q3VCLE1BQU07NENBQUVGLFNBQVM7NENBQUdyQixRQUFRO3dDQUFFO2tEQUU3QjhJLFlBQVl0QixHQUFHLENBQUMsQ0FBQzJJLE1BQU1uSSxvQkFDdEIsOERBQUN6SywrRkFBTUEsQ0FBQ3lELEdBQUc7Z0RBRVROLFdBQVU7Z0RBQ1ZVLFNBQVM7b0RBQUVDLFNBQVM7b0RBQUdrSCxPQUFPO2dEQUFJO2dEQUNsQ2pILFNBQVM7b0RBQUVELFNBQVM7b0RBQUdrSCxPQUFPO2dEQUFFO2dEQUNoQ2hILE1BQU07b0RBQUVGLFNBQVM7b0RBQUdrSCxPQUFPO2dEQUFJOztrRUFFL0IsOERBQUNwSDtrRUFBTWdQOzs7Ozs7a0VBQ1AsOERBQUM5SDt3REFDQ0ksU0FBUyxJQUFNZ0gsaUJBQWlCekg7d0RBQ2hDdEgsV0FBVTtrRUFFViw0RUFBQzFELDJKQUFLQTs0REFBQzBELFdBQVU7Ozs7Ozs7Ozs7OzsrQ0FYZHNIOzs7Ozs7Ozs7Ozs7Ozs7OENBb0JmLDhEQUFDaEg7b0NBQUlOLFdBQVU7O3NEQUNiLDhEQUFDTTs0Q0FBSU4sV0FBVTs7OERBQ2IsOERBQUNuRCwrRkFBTUEsQ0FBQzhLLE1BQU07b0RBQ1paLE1BQUs7b0RBQ0xnQixTQUFTNkc7b0RBQ1Q5RyxVQUFVO3dEQUFFRCxPQUFPO29EQUFLO29EQUN4QjdILFdBQVU7OERBRVYsNEVBQUM3RCwySkFBU0E7d0RBQUM2RCxXQUFVOzs7Ozs7Ozs7Ozs4REFFdkIsOERBQUNuRCwrRkFBTUEsQ0FBQzhLLE1BQU07b0RBQ1pJLFNBQVMsSUFBTVksc0JBQXNCLENBQUNqQixJQUFNLENBQUNBO29EQUM3Q0ksVUFBVTt3REFBRUQsT0FBTztvREFBSztvREFDeEI3SCxXQUFVOzhEQUVWLDRFQUFDNUQsMkpBQU9BO3dEQUFDNEQsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7c0RBSXZCLDhEQUFDbkQsK0ZBQU1BLENBQUM4SyxNQUFNOzRDQUNaSSxTQUFTZ0U7NENBQ1RuRSxZQUFZO2dEQUFFQyxPQUFPOzRDQUFLOzRDQUMxQkMsVUFBVTtnREFBRUQsT0FBTzs0Q0FBSzs0Q0FDeEJHLFVBQVUsQ0FBQ0UsTUFBTXpKLElBQUksTUFBTTZKOzRDQUMzQnRJLFdBQVc5RCw4Q0FBRUEsQ0FDWCxvRUFDQWdNLE1BQU16SixJQUFJLE1BQU0sQ0FBQzZKLFdBQ2Isa0RBQ0E7O2dEQUdMQSx5QkFDQyw4REFBQy9MLDBKQUFVQTtvREFBQ3lELFdBQVU7Ozs7O3lFQUV0Qiw4REFBQzNELDJKQUFRQTtvREFBQzJELFdBQVU7Ozs7Ozs4REFFdEIsOERBQUNTOzhEQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0NBS1R5SSxpQ0FDQyw4REFBQ3JNLCtGQUFNQSxDQUFDeUQsR0FBRztvQ0FDVEksU0FBUzt3Q0FBRUMsU0FBUzt3Q0FBR3lHLEdBQUc7b0NBQUc7b0NBQzdCeEcsU0FBUzt3Q0FBRUQsU0FBUzt3Q0FBR3lHLEdBQUc7b0NBQUU7b0NBQzVCcEgsV0FBVTs4Q0FFViw0RUFBQzJIO3dDQUNDSSxTQUFTO2dEQUNQdUI7bURBRGExSyxzQ0FBQUEsZ0RBQUFBLDBCQUNiMEssQ0FBQUEsdUJBQUFBLGtDQUFBQSwyQkFBQUEsV0FBWW5FLFlBQVksY0FBeEJtRSwrQ0FBQUEseUJBQTBCOUIsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUlVLE1BQU16SixJQUFJLE1BQU07O3dDQUU5RHVCLFdBQVU7OzBEQUVWLDhEQUFDckQsMkpBQUtBO2dEQUFDcUQsV0FBVTs7Ozs7OzBEQUNqQiw4REFBQ1M7MERBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NDQU9kLDhEQUFDSDs0QkFBSU4sV0FBVTtzQ0FDWndLLGdCQUFnQjFELEdBQUcsQ0FBQyxDQUFDNEksTUFBTXBJLG9CQUMxQiw4REFBQ3pLLCtGQUFNQSxDQUFDOEssTUFBTTtvQ0FFWkksU0FBUzJILEtBQUtqRixNQUFNO29DQUNwQnpLLFdBQVU7b0NBQ1ZVLFNBQVM7d0NBQUVDLFNBQVM7d0NBQUd5RyxHQUFHO29DQUFHO29DQUM3QnhHLFNBQVM7d0NBQUVELFNBQVM7d0NBQUd5RyxHQUFHO29DQUFFO29DQUM1QnRHLFlBQVk7d0NBQUVvTyxPQUFPNUgsTUFBTTtvQ0FBSTtvQ0FDL0JNLFlBQVk7d0NBQUVDLE9BQU87b0NBQUs7b0NBQzFCQyxVQUFVO3dDQUFFRCxPQUFPO29DQUFLOztzREFFeEIsOERBQUN2SDs0Q0FBSU4sV0FBVTtzREFDWjBQLEtBQUtyRixJQUFJOzs7Ozs7c0RBRVosOERBQUMvSjs0Q0FBSU4sV0FBVTs7OERBQ2IsOERBQUNTO29EQUFLVCxXQUFVOzhEQUFlMFAsS0FBS3BGLEtBQUs7Ozs7Ozs4REFDekMsOERBQUM3SjtvREFBS1QsV0FBVTs4REFDYjBQLEtBQUsxSSxXQUFXOzs7Ozs7Ozs7Ozs7O21DQWZoQjBJLEtBQUtwRixLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUF5QnhCdEIsZ0JBQWdCLENBQUNNLDRCQUNoQiw4REFBQ3pNLCtGQUFNQSxDQUFDeUQsR0FBRztnQkFDVE4sV0FBVTtnQkFDVmxDLE9BQU87b0JBQ0w2UixHQUFHN0c7b0JBQ0gxQixHQUFHMkI7b0JBQ0g2RyxZQUFZO29CQUNaQyxZQUFZO2dCQUNkO2dCQUNBL08sWUFBWTtvQkFBRWlHLE1BQU07b0JBQVUrSSxTQUFTO29CQUFJQyxXQUFXO29CQUFLQyxNQUFNO2dCQUFJOzs7Ozs7Ozs7Ozs7QUFLL0U7SUE1a0JrQnJSOztRQVFEM0IsZ0dBQWNBO1FBQ2RBLGdHQUFjQTtRQWFkRSxzREFBU0E7UUFFdUI0Qjs7O01BeEIvQkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9hbmltYXRlZC1haS1jaGF0LnRzeD9iMmE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlU3RhdGUsIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcclxuaW1wb3J0IHtcclxuICBQYXBlcmNsaXAsXHJcbiAgQ29tbWFuZCxcclxuICBTZW5kSWNvbixcclxuICBYSWNvbixcclxuICBMb2FkZXJJY29uLFxyXG4gIFNwYXJrbGVzLFxyXG4gIFBsYXksXHJcbiAgUGF1c2UsXHJcbiAgVmlkZW8sXHJcbiAgQm9va09wZW4sXHJcbn0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xyXG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gXCJmcmFtZXItbW90aW9uXCI7XHJcbmltcG9ydCBWaWRlb0xlYXJuaW5nUGFnZSBmcm9tIFwiLi92aWRlby1sZWFybmluZy1wYWdlXCI7XHJcbmltcG9ydCB7IHVzZU1vdGlvblZhbHVlIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIjtcclxuaW1wb3J0IHsgUGx1cywgWCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xyXG5pbXBvcnQgTG9nbyBmcm9tICdAL2NvbXBvbmVudHMvbG9nbyc7XHJcbmltcG9ydCB7IHNhdmVTZWFyY2ggfSBmcm9tICdAL2xpYi9zZWFyY2gnXHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvZGInO1xyXG5cclxuLy8gQ2VudHJhbGl6ZWQgQVBJIGJhc2UgZm9yIGJvdGggY29tcG9uZW50cyBpbiB0aGlzIGZpbGVcclxuY29uc3QgQVBJX0JBU0UgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfQkFTRSB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMFwiO1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogMS4gd3JhcHBlciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmNvbnN0IHN0eWxlcyA9IGBcclxuICAubGVzc29uLWNhcmQgaDIge1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGxldHRlci1zcGFjaW5nOiAwLjNweDtcclxuICB9XHJcbmA7XHJcblxyXG4vLyBpbmplY3Qgb25jZSB3aXRoIGd1YXJkIHRvIGF2b2lkIGR1cGxpY2F0ZXMgZHVyaW5nIEhNUlxyXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgY29uc3QgZXhpc3RpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhbmEtaW5saW5lLXN0eWxlc1wiKTtcclxuICBpZiAoIWV4aXN0aW5nKSB7XHJcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICAgIHN0eWxlLmlkID0gXCJsYW5hLWlubGluZS1zdHlsZXNcIjtcclxuICAgIHN0eWxlLmlubmVySFRNTCA9IHN0eWxlcztcclxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQW5pbWF0ZWRDaGF0V2l0aFZpZGVvKCkge1xyXG4gIGNvbnN0IFtxdWVzdGlvbiwgc2V0UXVlc3Rpb25dID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgaGFuZGxlTmF2aWdhdGUgPSAodGV4dDogc3RyaW5nKSA9PiBzZXRRdWVzdGlvbih0ZXh0LnRyaW0oKSk7XHJcblxyXG4gIHJldHVybiBxdWVzdGlvbiA/IChcclxuICAgIDxWaWRlb0xlYXJuaW5nUGFnZSBcclxuICAgICAgcXVlc3Rpb249e3F1ZXN0aW9ufSBcclxuICAgICAgb25CYWNrPXsoKSA9PiBzZXRRdWVzdGlvbihcIlwiKX1cclxuICAgIC8+XHJcbiAgKSA6IChcclxuICAgIDxBbmltYXRlZEFJQ2hhdFxyXG4gICAgICBvbk5hdmlnYXRlVG9WaWRlb0xlYXJuaW5nPXtoYW5kbGVOYXZpZ2F0ZX1cclxuICAgICAgb25TZW5kPXsoKSA9PiB7fX1cclxuICAgIC8+XHJcbiAgKTtcclxufVxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qIDIuIHRleHRhcmVhIGhvb2sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5pbnRlcmZhY2UgVXNlQXV0b1Jlc2l6ZVRleHRhcmVhUHJvcHMge1xyXG4gIG1pbkhlaWdodDogbnVtYmVyO1xyXG4gIG1heEhlaWdodD86IG51bWJlcjtcclxufVxyXG5mdW5jdGlvbiB1c2VBdXRvUmVzaXplVGV4dGFyZWEoeyBtaW5IZWlnaHQsIG1heEhlaWdodCB9OiBVc2VBdXRvUmVzaXplVGV4dGFyZWFQcm9wcykge1xyXG4gIGNvbnN0IHRleHRhcmVhUmVmID0gdXNlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGFkanVzdEhlaWdodCA9IHVzZUNhbGxiYWNrKFxyXG4gICAgKHJlc2V0PzogYm9vbGVhbikgPT4ge1xyXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHRleHRhcmVhUmVmLmN1cnJlbnQ7XHJcbiAgICAgIGlmICghdGV4dGFyZWEpIHJldHVybjtcclxuICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gYCR7bWluSGVpZ2h0fXB4YDtcclxuICAgICAgaWYgKCFyZXNldCkge1xyXG4gICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IE1hdGgubWF4KFxyXG4gICAgICAgICAgbWluSGVpZ2h0LFxyXG4gICAgICAgICAgTWF0aC5taW4odGV4dGFyZWEuc2Nyb2xsSGVpZ2h0LCBtYXhIZWlnaHQgPz8gSW5maW5pdHkpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW21pbkhlaWdodCwgbWF4SGVpZ2h0XVxyXG4gICk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IGFkanVzdEhlaWdodCh0cnVlKSwgW2FkanVzdEhlaWdodF0pO1xyXG4gIHJldHVybiB7IHRleHRhcmVhUmVmLCBhZGp1c3RIZWlnaHQgfTtcclxufVxyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qIDMuIHRleHRhcmVhIGNvbXBvbmVudCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5pbnRlcmZhY2UgVGV4dGFyZWFQcm9wcyBleHRlbmRzIFJlYWN0LlRleHRhcmVhSFRNTEF0dHJpYnV0ZXM8SFRNTFRleHRBcmVhRWxlbWVudD4ge1xyXG4gIGNvbnRhaW5lckNsYXNzTmFtZT86IHN0cmluZztcclxuICBzaG93UmluZz86IGJvb2xlYW47XHJcbn1cclxuY29uc3QgVGV4dGFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQsIFRleHRhcmVhUHJvcHM+KFxyXG4gICh7IGNsYXNzTmFtZSwgY29udGFpbmVyQ2xhc3NOYW1lLCBzaG93UmluZyA9IHRydWUsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xyXG4gICAgY29uc3QgW2ZvY3VzZWQsIHNldEZvY3VzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKFwicmVsYXRpdmVcIiwgY29udGFpbmVyQ2xhc3NOYW1lKX0+XHJcbiAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICBcImZsZXggbWluLWgtWzYwcHhdIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBweC0zIHB5LTIgdGV4dC1zbVwiLFxyXG4gICAgICAgICAgICBcInRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBlYXNlLWluLW91dCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmRcIixcclxuICAgICAgICAgICAgXCJkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MFwiLFxyXG4gICAgICAgICAgICBzaG93UmluZyAmJiBcImZvY3VzOm91dGxpbmUtbm9uZVwiLFxyXG4gICAgICAgICAgICBjbGFzc05hbWVcclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICByZWY9e3JlZn1cclxuICAgICAgICAgIG9uRm9jdXM9eygpID0+IHNldEZvY3VzZWQodHJ1ZSl9XHJcbiAgICAgICAgICBvbkJsdXI9eygpID0+IHNldEZvY3VzZWQoZmFsc2UpfVxyXG4gICAgICAgICAgey4uLnByb3BzfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAge3Nob3dSaW5nICYmIGZvY3VzZWQgJiYgKFxyXG4gICAgICAgICAgPG1vdGlvbi5zcGFuXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcm91bmRlZC1tZCBwb2ludGVyLWV2ZW50cy1ub25lIHJpbmctMiByaW5nLXdoaXRlLzIwXCJcclxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XHJcbiAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxyXG4gICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX1cclxuICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4yIH19XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbik7XHJcblRleHRhcmVhLmRpc3BsYXlOYW1lID0gXCJUZXh0YXJlYVwiO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qIE5FVyBsZXNzb24gY2FyZCBjb21wb25lbnQgKGlubGluZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuY29uc3QgU3RydWN0dXJlZExlc3NvbkNhcmQgPSAoeyBsZXNzb24sIGlzU3RyZWFtaW5nQ29tcGxldGUgfTogeyBsZXNzb246IGFueTsgaXNTdHJlYW1pbmdDb21wbGV0ZTogYm9vbGVhbiB9KSA9PiB7XHJcbiAgLy8gTGlnaHRseSBzYW5pdGl6ZSBtYXJrZG93bi1saWtlIHRva2VucyBhbmQgbm9ybWFsaXplIGJ1bGxldHMgcGVyIGxpbmVcclxuICAvLyBMaWdodGx5IHNhbml0aXplIG1hcmtkb3duLWxpa2UgdG9rZW5zIGFuZCBub3JtYWxpemUgYnVsbGV0cyBwZXIgbGluZVxyXG4gIGNvbnN0IHNhbml0aXplTGluZSA9IChsaW5lOiBzdHJpbmcpID0+IHtcclxuICAgIHJldHVybiBsaW5lXHJcbiAgICAgIC5yZXBsYWNlQWxsKFwiKipcIiwgXCJcIilcclxuICAgICAgLnJlcGxhY2UoL15cXHMqWy0qXVxccysvLCBcIuKAoiBcIilcclxuICAgICAgLnJlcGxhY2UoL2B7MSwzfS9nLCBcIlwiKVxyXG4gICAgICAudHJpbSgpO1xyXG4gIH07XHJcblxyXG4gIC8vIE5vcm1hbGl6ZSBjb21tb24gc2VjdGlvbiB0aXRsZXMgdG8gYSBjbGVhbiwgY29uc2lzdGVudCBuYW1lXHJcbiAgY29uc3Qgbm9ybWFsaXplVGl0bGUgPSAodGl0bGU6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgdCA9IHRpdGxlLnRyaW0oKTtcclxuICAgIGlmICgvXlxccyood2hhdFxccytpcylcXGIvaS50ZXN0KHQpKSByZXR1cm4gXCJPdmVydmlld1wiO1xyXG4gICAgaWYgKC9eXFxzKihkZWZpbml0aW9uKVxcYi9pLnRlc3QodCkpIHJldHVybiBcIk92ZXJ2aWV3XCI7XHJcbiAgICBpZiAoL15cXHMqb3ZlcnZpZXdcXGIvaS50ZXN0KHQpKSByZXR1cm4gXCJPdmVydmlld1wiO1xyXG4gICAgcmV0dXJuIHQucmVwbGFjZSgvXlxccyojK1xccyovLCBcIlwiKS50cmltKCk7XHJcbiAgfTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICBjb25zdCBoYW5kbGVUYWtlUXVpeiA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghbGVzc29uPy5xdWl6IHx8ICFBcnJheS5pc0FycmF5KGxlc3Nvbi5xdWl6KSB8fCBsZXNzb24ucXVpei5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZGF0YSA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShsZXNzb24ucXVpeikpO1xyXG4gICAgICByb3V0ZXIucHVzaChgL3F1aXo/ZGF0YT0ke2RhdGF9YCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBuYXZpZ2F0ZSB0byBxdWl6OlwiLCBlcnIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFJlbW92ZWQgdmVyYm9zZSBkZWJ1ZyBsb2dnaW5nIGZvciBwcm9kdWN0aW9uIHJlYWRpbmVzcy5cclxuICBsZXQgYmxvY2tzOiB7IHRpdGxlPzogc3RyaW5nOyBjb250ZW50OiBzdHJpbmcgfVtdID0gW107XHJcblxyXG4gIC8vIFRUUyBzdGF0ZSBhbmQgYWN0aW9uc1xyXG4gIGNvbnN0IFthdWRpb1VybCwgc2V0QXVkaW9VcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzVHRzTG9hZGluZywgc2V0SXNUdHNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2F1ZGlvUXVldWUsIHNldEF1ZGlvUXVldWVdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcclxuICBjb25zdCBbY3VycmVudEluZGV4LCBzZXRDdXJyZW50SW5kZXhdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgY3VycmVudEluZGV4UmVmID0gdXNlUmVmKDApO1xyXG4gIGNvbnN0IFtpc1F1ZXVlUHJlbG9hZGluZywgc2V0SXNRdWV1ZVByZWxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7IGN1cnJlbnRJbmRleFJlZi5jdXJyZW50ID0gY3VycmVudEluZGV4OyB9LCBbY3VycmVudEluZGV4XSk7XHJcblxyXG4gIGNvbnN0IGdldEZ1bGxMZXNzb25UZXh0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICBmb3IgKGNvbnN0IGIgb2YgYmxvY2tzKSB7XHJcbiAgICAgIGlmIChiLnRpdGxlKSBsaW5lcy5wdXNoKGAke2IudGl0bGV9YCk7XHJcbiAgICAgIGxpbmVzLnB1c2goYi5jb250ZW50KTtcclxuICAgIH1cclxuICAgIHJldHVybiBsaW5lcy5qb2luKFwiXFxuXFxuXCIpO1xyXG4gIH0sIFtibG9ja3NdKTtcclxuXHJcbiAgY29uc3Qgb2JqZWN0VXJsc1JlZiA9IHVzZVJlZjxzdHJpbmdbXT4oW10pO1xyXG4gIGNvbnN0IGZldGNoVFRTQmxvYlVybCA9IHVzZUNhbGxiYWNrKGFzeW5jICh0ZXh0OiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFfS9hcGkvdHRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGV4dCB9KSxcclxuICAgIH0pO1xyXG4gICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihgVFRTIGVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKTtcclxuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICBvYmplY3RVcmxzUmVmLmN1cnJlbnQucHVzaCh1cmwpO1xyXG4gICAgcmV0dXJuIHVybDtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIENsZWFudXAgYXVkaW8gYW5kIHJldm9rZSBvYmplY3QgVVJMcyBvbiB1bm1vdW50IHRvIHByZXZlbnQgbGVha3NcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoYXVkaW9SZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgYXVkaW9SZWYuY3VycmVudC5wYXVzZSgpO1xyXG4gICAgICAgICAgYXVkaW9SZWYuY3VycmVudC5zcmMgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IHUgb2Ygb2JqZWN0VXJsc1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmplY3RVcmxzUmVmLmN1cnJlbnQgPSBbXTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIFN3YWxsb3cgY2xlYW51cCBlcnJvcnNcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IHNlZ21lbnRzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBzZWdzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgLy8gQnVpbGQgc2VnbWVudHMgZGlyZWN0bHkgZnJvbSBsZXNzb24gc3RydWN0dXJlIGZvciBzcGVlZFxyXG4gICAgaWYgKHR5cGVvZiBsZXNzb24/LmludHJvZHVjdGlvbiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBjb25zdCBpbnRybyA9IGxlc3Nvbi5pbnRyb2R1Y3Rpb24udHJpbSgpO1xyXG4gICAgICBzZWdzLnB1c2goaW50cm8ubGVuZ3RoID4gNjAwID8gaW50cm8uc2xpY2UoMCwgNjAwKSA6IGludHJvKTtcclxuICAgIH1cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGxlc3Nvbj8uc2VjdGlvbnMpKSB7XHJcbiAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBsZXNzb24uc2VjdGlvbnMpIHtcclxuICAgICAgICBpZiAoc2VjdGlvbj8uY29udGVudCkge1xyXG4gICAgICAgICAgY29uc3QgYyA9IFN0cmluZyhzZWN0aW9uLmNvbnRlbnQpLnRyaW0oKTtcclxuICAgICAgICAgIGlmIChjKSBzZWdzLnB1c2goYy5sZW5ndGggPiA5MDAgPyBjLnNsaWNlKDAsIDkwMCkgOiBjKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzZWdzLmxlbmd0aCA/IHNlZ3MgOiBbZ2V0RnVsbExlc3NvblRleHQoKV07XHJcbiAgfSwgW2xlc3NvbiwgZ2V0RnVsbExlc3NvblRleHRdKTtcclxuXHJcbiAgY29uc3QgcHJlbG9hZFRUUyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldElzVHRzTG9hZGluZyh0cnVlKTtcclxuICAgICAgaWYgKCFzZWdtZW50cy5sZW5ndGgpIHJldHVybjtcclxuICAgICAgY29uc3QgZmlyc3RVcmwgPSBhd2FpdCBmZXRjaFRUU0Jsb2JVcmwoc2VnbWVudHNbMF0pO1xyXG4gICAgICBzZXRBdWRpb1VybChmaXJzdFVybCk7XHJcbiAgICAgIHNldEF1ZGlvUXVldWUoW2ZpcnN0VXJsXSk7XHJcbiAgICAgIHNldEN1cnJlbnRJbmRleCgwKTtcclxuICAgICAgLy8gUHJlbG9hZCB0aGUgbmV4dCBzZWdtZW50IGluIGJhY2tncm91bmQgaWYgYXZhaWxhYmxlXHJcbiAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgc2V0SXNRdWV1ZVByZWxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgZmV0Y2hUVFNCbG9iVXJsKHNlZ21lbnRzWzFdKVxyXG4gICAgICAgICAgLnRoZW4oKHUpID0+IHNldEF1ZGlvUXVldWUoKHEpID0+IFsuLi5xLCB1XSkpXHJcbiAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IHNldElzUXVldWVQcmVsb2FkaW5nKGZhbHNlKSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzVHRzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW3NlZ21lbnRzLCBmZXRjaFRUU0Jsb2JVcmxdKTtcclxuXHJcbiAgY29uc3QgcGxheVRUUyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IHNyYyA9IGF1ZGlvUXVldWVbY3VycmVudEluZGV4UmVmLmN1cnJlbnRdIHx8IGF1ZGlvVXJsO1xyXG4gICAgaWYgKCFzcmMpIHJldHVybjtcclxuICAgIGlmICghYXVkaW9SZWYuY3VycmVudCkge1xyXG4gICAgICBhdWRpb1JlZi5jdXJyZW50ID0gbmV3IEF1ZGlvKHNyYyk7XHJcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlcIiwgKCkgPT4gc2V0SXNQbGF5aW5nKHRydWUpKTtcclxuICAgICAgYXVkaW9SZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIiwgKCkgPT4gc2V0SXNQbGF5aW5nKGZhbHNlKSk7XHJcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBwcmV2SW5kZXggPSBjdXJyZW50SW5kZXhSZWYuY3VycmVudDtcclxuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBwcmV2SW5kZXggKyAxO1xyXG4gICAgICAgIGlmIChzZWdtZW50c1tuZXh0SW5kZXhdICYmICFhdWRpb1F1ZXVlW25leHRJbmRleF0pIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHUgPSBhd2FpdCBmZXRjaFRUU0Jsb2JVcmwoc2VnbWVudHNbbmV4dEluZGV4XSk7XHJcbiAgICAgICAgICAgIHNldEF1ZGlvUXVldWUoKHEpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBxcSA9IHEuc2xpY2UoKTtcclxuICAgICAgICAgICAgICBxcVtuZXh0SW5kZXhdID0gdTtcclxuICAgICAgICAgICAgICByZXR1cm4gcXE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRDdXJyZW50SW5kZXgobmV4dEluZGV4KTtcclxuICAgICAgICBjdXJyZW50SW5kZXhSZWYuY3VycmVudCA9IG5leHRJbmRleDtcclxuICAgICAgICBjb25zdCBuZXh0U3JjID0gYXVkaW9RdWV1ZVtuZXh0SW5kZXhdO1xyXG4gICAgICAgIGlmIChuZXh0U3JjKSB7XHJcbiAgICAgICAgICBpZiAoYXVkaW9SZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICBhdWRpb1JlZi5jdXJyZW50LnNyYyA9IG5leHRTcmM7XHJcbiAgICAgICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZXRJc1BsYXlpbmcoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhdWRpb1JlZi5jdXJyZW50LnNyYyA9IHNyYztcclxuICAgIH1cclxuICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gIH0sIFthdWRpb1VybCwgYXVkaW9RdWV1ZSwgc2VnbWVudHMsIGZldGNoVFRTQmxvYlVybF0pO1xyXG5cclxuICBjb25zdCB0b2dnbGVQbGF5UGF1c2UgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoaXNUdHNMb2FkaW5nIHx8IGlzUXVldWVQcmVsb2FkaW5nKSByZXR1cm47XHJcbiAgICBjb25zdCBoYXNQcmVwYXJlZCA9ICEhKGF1ZGlvVXJsIHx8IGF1ZGlvUXVldWUubGVuZ3RoKTtcclxuICAgIGlmICghYXVkaW9SZWYuY3VycmVudCkge1xyXG4gICAgICBpZiAoIWhhc1ByZXBhcmVkKSB7XHJcbiAgICAgICAgYXdhaXQgcHJlbG9hZFRUUygpO1xyXG4gICAgICB9XHJcbiAgICAgIHBsYXlUVFMoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGF1ZGlvUmVmLmN1cnJlbnQucGF1c2VkKSB7XHJcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpLmNhdGNoKCgpID0+IHt9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGF1c2UoKTtcclxuICAgIH1cclxuICB9LCBbYXVkaW9VcmwsIGF1ZGlvUXVldWUsIGlzVHRzTG9hZGluZywgaXNRdWV1ZVByZWxvYWRpbmcsIHByZWxvYWRUVFMsIHBsYXlUVFNdKTtcclxuXHJcbiAgLy8gQXV0by1wcmVsb2FkIGF1ZGlvIG9uY2Ugc3RyZWFtaW5nIGNvbXBsZXRlcyB0byByZWR1Y2Ugd2FpdCB0aW1lXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc1N0cmVhbWluZ0NvbXBsZXRlICYmICFhdWRpb1VybCAmJiAhaXNUdHNMb2FkaW5nKSB7XHJcbiAgICAgIHByZWxvYWRUVFMoKTtcclxuICAgIH1cclxuICB9LCBbaXNTdHJlYW1pbmdDb21wbGV0ZSwgYXVkaW9VcmwsIGlzVHRzTG9hZGluZywgcHJlbG9hZFRUU10pO1xyXG5cclxuICBpZiAodHlwZW9mIGxlc3Nvbi5pbnRyb2R1Y3Rpb24gPT09IFwic3RyaW5nXCIgJiYgbGVzc29uLmludHJvZHVjdGlvbi5zdGFydHNXaXRoKFwiSGV5IGRlYXIhXCIpKSB7XHJcbiAgICBibG9ja3MucHVzaCh7IGNvbnRlbnQ6IGxlc3Nvbi5pbnRyb2R1Y3Rpb24gfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChsZXNzb24uaW50cm9kdWN0aW9uICYmIHR5cGVvZiBsZXNzb24uaW50cm9kdWN0aW9uID09PSBcInN0cmluZ1wiICYmIGxlc3Nvbi5pbnRyb2R1Y3Rpb24udHJpbSgpKSB7XHJcbiAgICAgIGJsb2Nrcy5wdXNoKHtcclxuICAgICAgICB0aXRsZTogXCJJbnRyb2R1Y3Rpb25cIixcclxuICAgICAgICBjb250ZW50OiBsZXNzb24uaW50cm9kdWN0aW9uLnRyaW0oKSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBBcnJheS5pc0FycmF5KGxlc3Nvbi5jbGFzc2lmaWNhdGlvbnMpICYmXHJcbiAgICAgIGxlc3Nvbi5jbGFzc2lmaWNhdGlvbnMubGVuZ3RoID4gMFxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnN0IGNsYXNzaWZpY2F0aW9uQ29udGVudCA9IGxlc3Nvbi5jbGFzc2lmaWNhdGlvbnNcclxuICAgICAgICAubWFwKChjOiBhbnkpID0+IHtcclxuICAgICAgICAgIGlmIChjPy50eXBlICYmIGM/LmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBg4oCiICR7Yy50eXBlfTogJHtjLmRlc2NyaXB0aW9ufWA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbilcclxuICAgICAgICAuam9pbihcIlxcblwiKTtcclxuXHJcbiAgICAgIGlmIChjbGFzc2lmaWNhdGlvbkNvbnRlbnQpIHtcclxuICAgICAgICBibG9ja3MucHVzaCh7XHJcbiAgICAgICAgICB0aXRsZTogXCJDbGFzc2lmaWNhdGlvbnMgLyBUeXBlc1wiLFxyXG4gICAgICAgICAgY29udGVudDogY2xhc3NpZmljYXRpb25Db250ZW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0YWlsZWQgc2VjdGlvbnMgKG5vdyBhZnRlciBjbGFzc2lmaWNhdGlvbnMpXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsZXNzb24uc2VjdGlvbnMpKSB7XHJcbiAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBsZXNzb24uc2VjdGlvbnMpIHtcclxuICAgICAgICBpZiAoc2VjdGlvbj8udGl0bGUgJiYgc2VjdGlvbj8uY29udGVudCAmJiBzZWN0aW9uLnRpdGxlLnRyaW0oKSAmJiBzZWN0aW9uLmNvbnRlbnQudHJpbSgpKSB7XHJcbiAgICAgICAgICBibG9ja3MucHVzaCh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBub3JtYWxpemVUaXRsZShzZWN0aW9uLnRpdGxlLnRyaW0oKSksXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHNlY3Rpb24uY29udGVudC50cmltKCksXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobGVzc29uLmRpYWdyYW0gJiYgbGVzc29uLmRpYWdyYW0udHJpbSgpKSB7XHJcbiAgICAgIGJsb2Nrcy5wdXNoKHtcclxuICAgICAgICB0aXRsZTogXCJEaWFncmFtIERlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgY29udGVudDogbGVzc29uLmRpYWdyYW0udHJpbSgpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8bW90aW9uLmRpdlxyXG4gICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XHJcbiAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICBjbGFzc05hbWU9XCJtdC02IG1heC13LTN4bCBteC1hdXRvXCJcclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZS81IGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC14bCBwLTYgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBzcGFjZS15LTZcIj5cclxuICAgICAgICB7YmxvY2tzLm1hcCgoYmxvY2ssIGlkeCkgPT4gKFxyXG4gICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgIHtibG9jay50aXRsZSAmJiAoXHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXdoaXRlIHRleHQtbGcgdHJhY2tpbmctd2lkZVwiPlxyXG4gICAgICAgICAgICAgICAge2Jsb2NrLnRpdGxlfVxyXG4gICAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS84NSB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB3aGl0ZXNwYWNlLXByZS13cmFwIGZvbnQtc2Fuc1wiPlxyXG4gICAgICAgICAgICAgIHtibG9jay5jb250ZW50LnNwbGl0KFwiXFxuXCIpLm1hcCgobGluZSwgaSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9PntzYW5pdGl6ZUxpbmUobGluZSkgfHwgXCJcXHUwMEEwXCJ9PC9kaXY+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSl9XHJcblxyXG4gICAgICAgIHshYmxvY2tzLmxlbmd0aCAmJiAoXHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIGl0YWxpYyB0ZXh0LXNtXCI+Tm8gbGVzc29uIGNvbnRlbnQgYXZhaWxhYmxlLjwvcD5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiDinqQgT05MWSBTSE9XIExJU1RFTiArIFFVSVogQUZURVIgU1RSRUFNSU5HIENPTVBMRVRFUyAqL31cclxuICAgICAge2lzU3RyZWFtaW5nQ29tcGxldGUgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC02IGdhcC0zXCI+XHJcbiAgICAgICAgICA8bW90aW9uLmJ1dHRvblxyXG4gICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjAzIH19XHJcbiAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk3IH19XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVBsYXlQYXVzZX1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVHRzTG9hZGluZyB8fCBpc1F1ZXVlUHJlbG9hZGluZ31cclxuICAgICAgICAgICAgYXJpYS1wcmVzc2VkPXtpc1BsYXlpbmd9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTUgcHktMiBiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdGV4dC1zbSBmb250LW1lZGl1bSBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIGhvdmVyOmJnLXdoaXRlLzIwIHRyYW5zaXRpb24tc2hhZG93IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgZGlzYWJsZWQ6b3BhY2l0eS02MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7aXNUdHNMb2FkaW5nIHx8IGlzUXVldWVQcmVsb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgIDxMb2FkZXJJY29uIGNsYXNzTmFtZT1cInctMy41IGgtMy41IGFuaW1hdGUtc3BpblwiIC8+XHJcbiAgICAgICAgICAgICkgOiBpc1BsYXlpbmcgPyAoXHJcbiAgICAgICAgICAgICAgPFBhdXNlIGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIgLz5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIHtpc1R0c0xvYWRpbmcgfHwgaXNRdWV1ZVByZWxvYWRpbmdcclxuICAgICAgICAgICAgICA/IFwiUHJlcGFyaW5nIGF1ZGlv4oCmXCJcclxuICAgICAgICAgICAgICA6IGlzUGxheWluZ1xyXG4gICAgICAgICAgICAgID8gXCJQYXVzZVwiXHJcbiAgICAgICAgICAgICAgOiBhdWRpb1VybCB8fCBhdWRpb1F1ZXVlLmxlbmd0aFxyXG4gICAgICAgICAgICAgID8gXCJQbGF5XCJcclxuICAgICAgICAgICAgICA6IFwiUHJlcGFyZSAmIExpc3RlblwifVxyXG4gICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxyXG5cclxuICAgICAgICAgIHtsZXNzb24ucXVpeiAmJiBsZXNzb24ucXVpei5sZW5ndGggPiAwICYmIChcclxuICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cclxuICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjAzIH19XHJcbiAgICAgICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOTcgfX1cclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUYWtlUXVpen1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC01IHB5LTIgYmctd2hpdGUgdGV4dC1ibGFjayByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gc2hhZG93LW1kIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLXNoYWRvdyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41XCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XHJcbiAgICAgICAgICAgICAgVGFrZSBRdWl6XHJcbiAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICA8L21vdGlvbi5kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiA0LiBjaGF0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuaW50ZXJmYWNlIENvbW1hbmRTdWdnZXN0aW9uIHtcclxuICBpY29uOiBSZWFjdC5SZWFjdE5vZGU7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHByZWZpeDogc3RyaW5nO1xyXG59XHJcbmludGVyZmFjZSBBbmltYXRlZEFJQ2hhdFByb3BzIHtcclxuICBvbk5hdmlnYXRlVG9WaWRlb0xlYXJuaW5nOiAodGl0bGU6IHN0cmluZykgPT4gdm9pZFxyXG4gIHNlc3Npb25JZD86IHN0cmluZyAgICAgICAgXHJcbiAgb25TZW5kPzogKCkgPT4gdm9pZFxyXG59XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBBbmltYXRlZEFJQ2hhdCh7IG9uTmF2aWdhdGVUb1ZpZGVvTGVhcm5pbmcgfTogQW5pbWF0ZWRBSUNoYXRQcm9wcykge1xyXG4gIC8qIC0tLSBzdGF0ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbYXR0YWNobWVudHMsIHNldEF0dGFjaG1lbnRzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XHJcbiAgY29uc3QgW2lzVHlwaW5nLCBzZXRJc1R5cGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3N0cmVhbWluZ1RleHQsIHNldFN0cmVhbWluZ1RleHRdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW3Nob3dDb21tYW5kUGFsZXR0ZSwgc2V0U2hvd0NvbW1hbmRQYWxldHRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbYWN0aXZlU3VnZ2VzdGlvbiwgc2V0QWN0aXZlU3VnZ2VzdGlvbl0gPSB1c2VTdGF0ZSgtMSk7XHJcbiAgY29uc3QgbW91c2VYID0gdXNlTW90aW9uVmFsdWUoMCk7XHJcbiAgY29uc3QgbW91c2VZID0gdXNlTW90aW9uVmFsdWUoMCk7XHJcbiAgY29uc3QgW2lucHV0Rm9jdXNlZCwgc2V0SW5wdXRGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd1ZpZGVvQnV0dG9uLCBzZXRTaG93VmlkZW9CdXR0b25dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzdG9yZWRMb25nLCBzZXRTdG9yZWRMb25nXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIGNvbnN0IFtsZXNzb25Kc29uLCBzZXRMZXNzb25Kc29uXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7ICAgLy8gTkVXXHJcbiAgY29uc3QgW3JldHJ5Q291bnQsIHNldFJldHJ5Q291bnRdID0gdXNlU3RhdGUoMCk7XHJcbiAgY29uc3QgTUFYX1JFVFJJRVMgPSAzO1xyXG4gIGNvbnN0IHRleHRhcmVhUmVmID0gdXNlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGFib3J0UmVmID0gdXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IFxyXG4gIGNvbnN0IFtzYXZlTWVzc2FnZSwgc2V0U2F2ZU1lc3NhZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3Nob3dTYXZlTWVzc2FnZSwgc2V0U2hvd1NhdmVNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdXNlckFnZSwgc2V0VXNlckFnZV0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICBcclxuICBjb25zdCB7IHRleHRhcmVhUmVmOiBhdXRvUmVmLCBhZGp1c3RIZWlnaHQgfSA9IHVzZUF1dG9SZXNpemVUZXh0YXJlYSh7XHJcbiAgICBtaW5IZWlnaHQ6IDYwLFxyXG4gICAgbWF4SGVpZ2h0OiAyMDAsXHJcbiAgfSk7XHJcblxyXG4gIC8qIC0tLSBjb21tYW5kIHBhbGV0dGUgZGF0YSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbiAgY29uc3QgY29tbWFuZFN1Z2dlc3Rpb25zOiBDb21tYW5kU3VnZ2VzdGlvbltdID0gW1xyXG4gICAgeyBpY29uOiA8VmlkZW8gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+LCBsYWJlbDogXCJFeHBsYWluIE1vZGVcIiwgZGVzY3JpcHRpb246IFwiRGV0YWlsZWQgdmlkZW8gZXhwbGFuYXRpb25cIiwgcHJlZml4OiBcIi92aWRlb1wiIH0sXHJcbiAgICB7IGljb246IDxCb29rT3BlbiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4sIGxhYmVsOiBcIlN0ZXAtYnktU3RlcFwiLCBkZXNjcmlwdGlvbjogXCJCcmVhayBjb21wbGV4IHRvcGljcyBkb3duXCIsIHByZWZpeDogXCIvc3RlcHNcIiB9LFxyXG4gICAgeyBpY29uOiA8UGxheSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4sIGxhYmVsOiBcIkludGVyYWN0aXZlIERlbW9cIiwgZGVzY3JpcHRpb246IFwiU2VlIGl0IGluIGFjdGlvblwiLCBwcmVmaXg6IFwiL2RlbW9cIiB9LFxyXG4gICAgeyBpY29uOiA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+LCBsYWJlbDogXCJRdWljayBBbnN3ZXJcIiwgZGVzY3JpcHRpb246IFwiQ29uY2lzZSBleHBsYW5hdGlvblwiLCBwcmVmaXg6IFwiL3F1aWNrXCIgfSxcclxuICBdO1xyXG5cclxuXHJcbiAgY29uc3QgbW9kZVN1Z2dlc3Rpb25zID0gW1xyXG4gICAge1xyXG4gICAgICBpY29uOiA8VmlkZW8gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+LFxyXG4gICAgICBsYWJlbDogXCJFeHBsYW5hdGlvbiBNb2RlXCIsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbXByZWhlbnNpdmUgQWkgZXhwbGFuYXRpb25zXCIsXHJcbiAgICAgIGFjdGlvbjogKCkgPT5cclxuICAgICAgICBvbk5hdmlnYXRlVG9WaWRlb0xlYXJuaW5nPy4oXHJcbiAgICAgICAgICB2YWx1ZS50cmltKCkgfHwgXCJXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGxlYXJuP1wiXHJcbiAgICAgICAgKSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGljb246IDxQbHVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiwgXHJcbiAgICAgIGxhYmVsOiBcIkFkZCBUZXJtIFBsYW5cIixcclxuICAgICAgZGVzY3JpcHRpb246IFwiQnVpbGQgYSBsb25nLXRlcm0gc3R1ZHkgc2NoZWR1bGVcIixcclxuICAgICAgYWN0aW9uOiAoKSA9PiByb3V0ZXIucHVzaChcIi90ZXJtLXBsYW5cIiksXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gIC8qIC0tLSBlZmZlY3RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbiAgLy8gUmV0cmlldmUgdXNlciBhZ2Ugb24gY29tcG9uZW50IG1vdW50IC0gT05MWSBmb3IgYXV0aGVudGljYXRlZCB1c2Vyc1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBnZXRVc2VyQWdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB1c2VyIGlzIHByb3Blcmx5IGF1dGhlbnRpY2F0ZWRcclxuICAgICAgICBpZiAoc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICAgICAgLy8gRmlyc3QgdHJ5IHRvIGdldCBhZ2UgZnJvbSB1c2VyIG1ldGFkYXRhXHJcbiAgICAgICAgICBjb25zdCBhZ2UgPSBzZXNzaW9uLnVzZXIudXNlcl9tZXRhZGF0YT8uYWdlO1xyXG4gICAgICAgICAgaWYgKGFnZSkge1xyXG4gICAgICAgICAgICBzZXRVc2VyQWdlKGFnZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gSWYgbm90IGluIG1ldGFkYXRhLCB0cnkgdG8gZ2V0IGZyb20gdXNlcnMgdGFibGVcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogdXNlckRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgICAgIC5zZWxlY3QoJ3VzZXJfbWV0YWRhdGEnKVxyXG4gICAgICAgICAgICAuZXEoJ2lkJywgc2Vzc2lvbi51c2VyLmlkKVxyXG4gICAgICAgICAgICAuc2luZ2xlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHVzZXJEYXRhPy51c2VyX21ldGFkYXRhPy5hZ2UpIHtcclxuICAgICAgICAgICAgc2V0VXNlckFnZSh1c2VyRGF0YS51c2VyX21ldGFkYXRhLmFnZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgZWxzZSBibG9jayAtIG5vIGFnZS1iYXNlZCBmZWF0dXJlcyBmb3IgdW5hdXRoZW50aWNhdGVkIHVzZXJzXHJcbiAgICAgICAgLy8gQWdlLWJhc2VkIHJlc3BvbnNlcywgdGVybSBwbGFucywgYW5kIGhpc3RvcnkgYXJlIG9ubHkgZm9yIHJlZ2lzdGVyZWQgdXNlcnNcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXRyaWV2aW5nIHVzZXIgYWdlOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgZ2V0VXNlckFnZSgpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKFwiL1wiKSAmJiAhdmFsdWUuaW5jbHVkZXMoXCIgXCIpKSB7XHJcbiAgICAgIHNldFNob3dDb21tYW5kUGFsZXR0ZSh0cnVlKTtcclxuICAgICAgY29uc3QgaWR4ID0gY29tbWFuZFN1Z2dlc3Rpb25zLmZpbmRJbmRleCgoY21kKSA9PiBjbWQucHJlZml4LnN0YXJ0c1dpdGgodmFsdWUpKTtcclxuICAgICAgc2V0QWN0aXZlU3VnZ2VzdGlvbihpZHgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0U2hvd0NvbW1hbmRQYWxldHRlKGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbdmFsdWVdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIG1vdXNlWC5zZXQoZS5jbGllbnRYKTtcclxuICAgICAgbW91c2VZLnNldChlLmNsaWVudFkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVNb3VzZU1vdmUpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdXNlTW92ZSk7IFxyXG4gICAgfTtcclxuICB9LCBbbW91c2VYLCBtb3VzZVldKTtcclxuXHJcbiAgLyogLS0tIGhhbmRsZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHEgPSB2YWx1ZS50cmltKCk7XHJcbiAgICBpZiAoIXEpIHJldHVybjtcclxuXHJcbiAgICBhYm9ydFJlZi5jdXJyZW50Py5hYm9ydCgpO1xyXG4gICAgYWJvcnRSZWYuY3VycmVudCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgIHNldElzVHlwaW5nKHRydWUpO1xyXG4gICAgc2V0U3RyZWFtaW5nVGV4dChcIlwiKTtcclxuICAgIHNldFN0b3JlZExvbmcoXCJcIik7XHJcbiAgICBzZXRTaG93VmlkZW9CdXR0b24oZmFsc2UpO1xyXG4gICAgc2V0TGVzc29uSnNvbihudWxsKTtcclxuICAgIHNldEVycm9yKG51bGwpO1xyXG5cclxuICAgIC8vIGxlZ2FjeSB2aWRlbyBwYXRoXHJcbiAgICBpZiAocS5zdGFydHNXaXRoKFwiL3ZpZGVvXCIpKSB7XHJcbiAgICAgIGNvbnN0IHNpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFuYV9zaWRcIikgfHwgXCJcIjtcclxuICAgICAgY29uc3QgZXMgPSBuZXcgRXZlbnRTb3VyY2UoXHJcbiAgICAgICAgYCR7QVBJX0JBU0V9L2Fzay9zdHJlYW0/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxKX0mc2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNpZCl9YCxcclxuICAgICAgICB7IHdpdGhDcmVkZW50aWFsczogZmFsc2UgfVxyXG4gICAgICApO1xyXG4gICAgICBlcy5vbm1lc3NhZ2UgPSAoZXYpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXYuZGF0YSk7XHJcbiAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICBzZXRFcnJvcihcIkVycm9yOiBcIiArIGRhdGEuZXJyb3IpO1xyXG4gICAgICAgICAgICBlcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChkYXRhLnNob3J0ICE9PSB1bmRlZmluZWQpIHNldFN0cmVhbWluZ1RleHQoZGF0YS5zaG9ydCk7XHJcbiAgICAgICAgICBpZiAoZGF0YS5sb25nKSBzZXRTdG9yZWRMb25nKGRhdGEubG9uZyk7XHJcbiAgICAgICAgICBpZiAoZGF0YS5kb25lKSB7XHJcbiAgICAgICAgICAgIGVzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgc2V0U2hvd1ZpZGVvQnV0dG9uKHRydWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgRXZlbnRTb3VyY2UgZGF0YTonLCBlKTtcclxuICAgICAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gcGFyc2UgcmVzcG9uc2UgZGF0YScpO1xyXG4gICAgICAgICAgZXMuY2xvc2UoKTtcclxuICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIGVzLm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0V2ZW50U291cmNlIGVycm9yOicsIGUpO1xyXG4gICAgICAgIHNldEVycm9yKFwiQ29ubmVjdGlvbiBmYWlsZWRcIik7XHJcbiAgICAgICAgZXMuY2xvc2UoKTtcclxuICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGFib3J0UmVmLmN1cnJlbnQuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiBlcy5jbG9zZSgpKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOKchSBPUFRJTUlaRUQgc3RydWN0dXJlZC1sZXNzb24gU1RSRUFNSU5HIHBhdGgg4oCUIEZBU1QgTU9ERVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRX0vYXBpL3N0cnVjdHVyZWQtbGVzc29uL3N0cmVhbWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRvcGljOiBxLCBhZ2U6IHVzZXJBZ2UgfSksXHJcbiAgICAgICAgc2lnbmFsOiBhYm9ydFJlZi5jdXJyZW50LnNpZ25hbCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcblxyXG4gICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5IS5nZXRSZWFkZXIoKTtcclxuICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xyXG5cclxuICAgICAgbGV0IGJ1ZmZlciA9IFwiXCI7XHJcbiAgICAgIGxldCBmaW5hbExlc3NvbjogYW55ID0gbnVsbDtcclxuICAgICAgbGV0IGlzQ29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgXHJcbiAgICAgIHNldElzVHlwaW5nKHRydWUpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTdGFydCBzYXZlIHNlYXJjaCBpbW1lZGlhdGVseSAocGFyYWxsZWwgcHJvY2Vzc2luZylcclxuICAgICAgY29uc3Qgc2F2ZVByb21pc2UgPSBzYXZlU2VhcmNoKHEudHJpbSgpKS50aGVuKHNhdmVSZXN1bHQgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgc2F2ZVNlYXJjaCByZXN1bHQ6Jywgc2F2ZVJlc3VsdClcclxuICAgICAgICBpZiAoc2F2ZVJlc3VsdD8ubWVzc2FnZSkge1xyXG4gICAgICAgICAgc2V0U2F2ZU1lc3NhZ2Uoc2F2ZVJlc3VsdC5tZXNzYWdlKVxyXG4gICAgICAgICAgc2V0U2hvd1NhdmVNZXNzYWdlKHRydWUpXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgc2V0U2hvd1NhdmVNZXNzYWdlKGZhbHNlKVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNhdmVNZXNzYWdlKG51bGwpLCAzMDApXHJcbiAgICAgICAgICB9LCA1MDAwKVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4gICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XHJcbiAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xyXG5cclxuICAgICAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gYnVmZmVyLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgIGJ1ZmZlciA9IGxpbmVzLnBvcCgpIHx8IFwiXCI7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgbG4gb2YgbGluZXMpIHtcclxuICAgICAgICAgIGlmICghbG4uc3RhcnRzV2l0aChcImRhdGE6XCIpKSBjb250aW51ZTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IEpTT04ucGFyc2UobG4uc2xpY2UoNSkudHJpbSgpKTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHtcclxuICAgICAgICAgICAgICBjYXNlIFwiZG9uZVwiOlxyXG4gICAgICAgICAgICAgICAgLy8gVUxUUkEtRkFTVCBwcm9jZXNzaW5nIC0gaW5zdGFudCByZXNwb25zZVxyXG4gICAgICAgICAgICAgICAgZmluYWxMZXNzb24gPSBtc2cubGVzc29uO1xyXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZXRMZXNzb25Kc29uKGZpbmFsTGVzc29uKTtcclxuICAgICAgICAgICAgICAgIHNldFNob3dWaWRlb0J1dHRvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHNhdmUgY29tcGxldGVzXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzYXZlUHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgXHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxyXG4gICAgICAgICAgICAgICAgc2V0RXJyb3IobXNnLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIFNraXAgbWFsZm9ybWVkIG1lc3NhZ2VzXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgICAgaWYgKGUubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIGNvbnNvbGUubG9nKFwiYWJvcnRlZFwiKTtcclxuICAgICAgZWxzZSBzZXRFcnJvcihlLm1lc3NhZ2UgfHwgXCJTdHJlYW1pbmcgZmFpbGVkXCIpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJldHJ5Q291bnQgPCBNQVhfUkVUUklFUykge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgc2V0UmV0cnlDb3VudChwcmV2ID0+IHByZXYgKyAxKTtcclxuICAgICAgICAgIGhhbmRsZVNlbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgfSwgMTAwMCAqIChyZXRyeUNvdW50ICsgMSkpOyBcclxuICAgICAgfVxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRWYWx1ZSgnJylcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcclxuICAgIGlmIChzaG93Q29tbWFuZFBhbGV0dGUpIHtcclxuICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93RG93blwiKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHNldEFjdGl2ZVN1Z2dlc3Rpb24oKHApID0+IChwIDwgY29tbWFuZFN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEgPyBwICsgMSA6IDApKTtcclxuICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2V0QWN0aXZlU3VnZ2VzdGlvbigocCkgPT4gKHAgPiAwID8gcCAtIDEgOiBjb21tYW5kU3VnZ2VzdGlvbnMubGVuZ3RoIC0gMSkpO1xyXG4gICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVN1Z2dlc3Rpb24gPj0gMCkge1xyXG4gICAgICAgICAgY29uc3QgY21kID0gY29tbWFuZFN1Z2dlc3Rpb25zW2FjdGl2ZVN1Z2dlc3Rpb25dO1xyXG4gICAgICAgICAgc2V0VmFsdWUoY21kLnByZWZpeCArIFwiIFwiKTtcclxuICAgICAgICAgIHNldFNob3dDb21tYW5kUGFsZXR0ZShmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUF0dGFjaEZpbGUgPSAoKSA9PlxyXG4gICAgc2V0QXR0YWNobWVudHMoKHByZXYpID0+IFsuLi5wcmV2LCBgZmlsZS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpfS5wZGZgXSk7XHJcblxyXG4gIGNvbnN0IHJlbW92ZUF0dGFjaG1lbnQgPSAoaWR4OiBudW1iZXIpID0+XHJcbiAgICBzZXRBdHRhY2htZW50cygocHJldikgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGlkeCkpO1xyXG5cclxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICAvKiByZW5kZXIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHctZnVsbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctdHJhbnNwYXJlbnQgdGV4dC13aGl0ZSBwLTYgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIG1pbi1oLVtjYWxjKDEwMHZoLTNyZW0pXVwiPlxyXG4gICAgICB7LyogYW5pbWF0ZWQgYmxvYnMgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsIG92ZXJmbG93LWhpZGRlbiBwb2ludGVyLWV2ZW50cy1ub25lXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTEvNCB3LTk2IGgtOTYgYmctd2hpdGUvNSByb3VuZGVkLWZ1bGwgYmx1ci1bMTI4cHhdIGFuaW1hdGUtcHVsc2VcIiAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgcmlnaHQtMS80IHctOTYgaC05NiBiZy1ncmF5LTMwMC81IHJvdW5kZWQtZnVsbCBibHVyLVsxMjhweF0gYW5pbWF0ZS1wdWxzZSBkZWxheS03MDBcIiAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTEvNCByaWdodC0xLzMgdy02NCBoLTY0IGJnLXdoaXRlLzIgcm91bmRlZC1mdWxsIGJsdXItWzk2cHhdIGFuaW1hdGUtcHVsc2UgZGVsYXktMTAwMFwiIC8+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctMnhsIG14LWF1dG8gcmVsYXRpdmVcIj5cclxuICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMCBzcGFjZS15LTEyXCJcclxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cclxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC42LCBlYXNlOiBcImVhc2VPdXRcIiB9fVxyXG4gICAgICAgID5cclxuICAgICAgICB7LyogU2F2ZSBtZXNzYWdlIG5vdGlmaWNhdGlvbiAtIHBvc2l0aW9uZWQgYWJvdmUgbG9nbyAqL31cclxuICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxyXG4gICAgICAgICAge3NhdmVNZXNzYWdlICYmIChcclxuICAgICAgICAgICAgPG1vdGlvbi5kaXYgXHJcbiAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAtMTAgfX1cclxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IHNob3dTYXZlTWVzc2FnZSA/IDEgOiAwLCB5OiBzaG93U2F2ZU1lc3NhZ2UgPyAwIDogLTEwIH19XHJcbiAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCB5OiAtMTAgfX1cclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMgfX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYi02XCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICAgIFwiYm9yZGVyIHJvdW5kZWQteGwgcC0zIHRleHQtc20gbWF4LXctbWQgbXgtYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgc2F2ZU1lc3NhZ2UuaW5jbHVkZXMoJ3NhdmVkJykgfHwgc2F2ZU1lc3NhZ2UuaW5jbHVkZXMoJ2hpc3RvcnknKSBcclxuICAgICAgICAgICAgICAgICAgPyBcImJnLWdyZWVuLTUwMC8xMCBib3JkZXItZ3JlZW4tNTAwLzIwIHRleHQtZ3JlZW4tMjAwXCIgXHJcbiAgICAgICAgICAgICAgICAgIDogXCJiZy1ibHVlLTUwMC8xMCBib3JkZXItYmx1ZS01MDAvMjAgdGV4dC1ibHVlLTIwMFwiXHJcbiAgICAgICAgICAgICAgKX0+XHJcbiAgICAgICAgICAgICAgICB7c2F2ZU1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICB7c2F2ZU1lc3NhZ2UuaW5jbHVkZXMoJ2NvbnNpZGVyIHJlZ2lzdGVyaW5nJykgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKCcvcmVnaXN0ZXInKX0gXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtMiB0ZXh0LWJsdWUtMzAwIGhvdmVyOnRleHQtYmx1ZS0xMDAgdW5kZXJsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIFJlZ2lzdGVyXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cclxuXHJcbiAgICAgICAgey8qIEhlcm8gc2VjdGlvbiAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNlwiPlxyXG4gICAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAxMCB9fVxyXG4gICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cclxuICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkZWxheTogMC4zLCBkdXJhdGlvbjogMC41IH19XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHsvKiBjZW50cmVkLCBiaWdnZXIgbG9nbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPExvZ29cclxuICAgICAgICAgICAgICAgIHdpZHRoPXsxNjB9XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ9ezEwMH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb250YWluXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC1weCBiZy1ncmFkaWVudC10by1yIGZyb20tdHJhbnNwYXJlbnQgdmlhLXdoaXRlLzMwIHRvLXRyYW5zcGFyZW50IG1heC13LW1kIG14LWF1dG9cIlxyXG4gICAgICAgICAgICAgIGluaXRpYWw9e3sgd2lkdGg6IDAsIG9wYWNpdHk6IDAgfX1cclxuICAgICAgICAgICAgICBhbmltYXRlPXt7IHdpZHRoOiBcIjEwMCVcIiwgb3BhY2l0eTogMSB9fVxyXG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuNiwgZHVyYXRpb246IDAuOCB9fVxyXG4gICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgPG1vdGlvbi5wXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1sZyB0ZXh0LXdoaXRlLzcwIG1heC13LWxnIG14LWF1dG8gbGVhZGluZy1yZWxheGVkXCJcclxuICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cclxuICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cclxuICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjgsIGR1cmF0aW9uOiAwLjUgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgR2V0IHNpbXBsZSBhbmQgY2xlYXIgYnJlYWtkb3duc+KAlGFueSB0aW1lLlxyXG4gICAgICAgICAgICAgIDwvbW90aW9uLnA+XHJcbiAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBjaGF0IGNhcmQgKi99XHJcbiAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBiYWNrZHJvcC1ibHVyLTJ4bCBiZy13aGl0ZS81IHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgc2hhZG93LTJ4bFwiXHJcbiAgICAgICAgICAgIGluaXRpYWw9e3sgc2NhbGU6IDAuOTggfX1cclxuICAgICAgICAgICAgYW5pbWF0ZT17eyBzY2FsZTogMSB9fVxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjEgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgey8qIGNvbW1hbmQgcGFsZXR0ZSAqL31cclxuICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cclxuICAgICAgICAgICAgICB7c2hvd0NvbW1hbmRQYWxldHRlICYmIChcclxuICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtNCByaWdodC00IGJvdHRvbS1mdWxsIG1iLTIgYmFja2Ryb3AtYmx1ci14bCBiZy1ibGFjay85MCByb3VuZGVkLWxnIHotNTAgc2hhZG93LWxnIGJvcmRlciBib3JkZXItd2hpdGUvMTAgb3ZlcmZsb3ctaGlkZGVuXCJcclxuICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA1IH19XHJcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHk6IDUgfX1cclxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4xNSB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7Y29tbWFuZFN1Z2dlc3Rpb25zLm1hcCgocywgaWR4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17cy5wcmVmaXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiB0ZXh0LXhzIHRyYW5zaXRpb24tY29sb3JzIGN1cnNvci1wb2ludGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVN1Z2dlc3Rpb24gPT09IGlkeFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwidGV4dC13aGl0ZS83MCBob3ZlcjpiZy13aGl0ZS81XCJcclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKHMucHJlZml4ICsgXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93Q29tbWFuZFBhbGV0dGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgZmxleC1jZW50ZXIgdGV4dC13aGl0ZS82MFwiPntzLmljb259PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3MubGFiZWx9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNDAgbWwtMVwiPntzLnByZWZpeH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxyXG5cclxuICAgICAgICAgICAgey8qIGlucHV0IGFyZWEgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XHJcbiAgICAgICAgICAgICAgPFRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICByZWY9e2F1dG9SZWZ9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICBhZGp1c3RIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XHJcbiAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiBzZXRJbnB1dEZvY3VzZWQodHJ1ZSl9XHJcbiAgICAgICAgICAgICAgICBvbkJsdXI9eygpID0+IHNldElucHV0Rm9jdXNlZChmYWxzZSl9XHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldoYXQgd291bGQgeW91IGxpa2UgdG8gbGVhcm4gdG9kYXk/XCJcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzTmFtZT1cInctZnVsbFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIHJlc2l6ZS1ub25lIGJnLXRyYW5zcGFyZW50IGJvcmRlci1ub25lIHRleHQtd2hpdGUvOTAgdGV4dC1zbSBwbGFjZWhvbGRlcjp0ZXh0LXdoaXRlLzMwIG1pbi1oLVs2MHB4XVwiXHJcbiAgICAgICAgICAgICAgICBzaG93UmluZz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogQUkgcmVzcG9uc2UgYXJlYSDigJQgbW92ZWQgT1VUU0lERSBpbnB1dCBjb250YWluZXIgKi99XHJcbiAgICAgICAgICAgIHtlcnJvciAmJiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHBiLTRcIj5cclxuICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2IFxyXG4gICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDEwIH19XHJcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNTAwLzEwIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMCByb3VuZGVkLWxnIHAtMyB0ZXh0LXJlZC0yMDAgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHtlcnJvcn1cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFcnJvcihudWxsKX0gXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXJlZC0zMDAgaG92ZXI6dGV4dC1yZWQtMTAwXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIOKclVxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHtsZXNzb25Kc29uICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcGItNFwiPlxyXG4gICAgICAgICAgICAgICAgPFN0cnVjdHVyZWRMZXNzb25DYXJkIFxyXG4gICAgICAgICAgICAgICAgICBsZXNzb249e2xlc3Nvbkpzb259IFxyXG4gICAgICAgICAgICAgICAgICBpc1N0cmVhbWluZ0NvbXBsZXRlPXshaXNUeXBpbmd9IFxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsvKiBhdHRhY2htZW50cyAqL31cclxuICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cclxuICAgICAgICAgICAgICB7YXR0YWNobWVudHMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHBiLTMgZmxleCBnYXAtMiBmbGV4LXdyYXBcIlxyXG4gICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIGhlaWdodDogMCB9fVxyXG4gICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIGhlaWdodDogXCJhdXRvXCIgfX1cclxuICAgICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBoZWlnaHQ6IDAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge2F0dGFjaG1lbnRzLm1hcCgoZmlsZSwgaWR4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyBiZy13aGl0ZS81IHB5LTEuNSBweC0zIHJvdW5kZWQtbGcgdGV4dC13aGl0ZS84MCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgc2NhbGU6IDAuOSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCBzY2FsZTogMSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45IH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2ZpbGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVBdHRhY2htZW50KGlkeCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNTAgaG92ZXI6dGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxYSWNvbiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XHJcblxyXG4gICAgICAgICAgICB7LyogYm90dG9tIGJhciAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBdHRhY2hGaWxlfVxyXG4gICAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45NCB9fVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC13aGl0ZS81MCBob3Zlcjp0ZXh0LXdoaXRlIHJvdW5kZWQtbGdcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8UGFwZXJjbGlwIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0NvbW1hbmRQYWxldHRlKChwKSA9PiAhcCl9XHJcbiAgICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk0IH19XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiB0ZXh0LXdoaXRlLzUwIGhvdmVyOnRleHQtd2hpdGUgcm91bmRlZC1sZ1wiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxDb21tYW5kIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjAxIH19XHJcbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45OCB9fVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF2YWx1ZS50cmltKCkgfHwgaXNUeXBpbmd9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgICAgICBcInB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIixcclxuICAgICAgICAgICAgICAgICAgdmFsdWUudHJpbSgpICYmICFpc1R5cGluZ1xyXG4gICAgICAgICAgICAgICAgICAgID8gXCJiZy13aGl0ZSB0ZXh0LWJsYWNrIHNoYWRvdy1sZyBzaGFkb3ctd2hpdGUvMjBcIlxyXG4gICAgICAgICAgICAgICAgICAgIDogXCJiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlLzUwXCJcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2lzVHlwaW5nID8gKFxyXG4gICAgICAgICAgICAgICAgICA8TG9hZGVySWNvbiBjbGFzc05hbWU9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIC8+XHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICA8U2VuZEljb24gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPHNwYW4+U2VhcmNoPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogXCJDcmVhdGUgdmlkZW8gbGVzc29uXCIgYnV0dG9uICovfVxyXG4gICAgICAgICAgICB7c2hvd1ZpZGVvQnV0dG9uICYmIChcclxuICAgICAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAxMCB9fVxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uTmF2aWdhdGVUb1ZpZGVvTGVhcm5pbmc/LihcclxuICAgICAgICAgICAgICAgICAgICBsZXNzb25Kc29uPy5pbnRyb2R1Y3Rpb24/LnNwbGl0KCdcXG4nKVswXSB8fCB2YWx1ZS50cmltKCkgfHwgXCJHZW5lcmF0ZWQgTGVzc29uXCJcclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHB4LTQgcHktMiBiZy13aGl0ZS8xMCBob3ZlcjpiZy13aGl0ZS8yMCByb3VuZGVkLWxnIHRleHQtd2hpdGVcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8VmlkZW8gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuPkNyZWF0ZSBsZXNzb248L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcblxyXG4gICAgICAgICAgey8qIG1vZGUgYnV0dG9ucyAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG10LTYgZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBnYXAtNCBtYXgtdy1tZCBteC1hdXRvXCI+XHJcbiAgICAgICAgICAgIHttb2RlU3VnZ2VzdGlvbnMubWFwKChtb2RlLCBpZHgpID0+IChcclxuICAgICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxyXG4gICAgICAgICAgICAgICAga2V5PXttb2RlLmxhYmVsfVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17bW9kZS5hY3Rpb259XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJncm91cCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC02IHB5LTMgYmctd2hpdGUvNSBob3ZlcjpiZy13aGl0ZS8xMCByb3VuZGVkLXhsIHRleHQtc20gdGV4dC13aGl0ZS84MCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tYWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgaG92ZXI6Ym9yZGVyLXdoaXRlLzIwIG1pbi13LVsxODBweF1cIlxyXG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAxMCB9fVxyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiBpZHggKiAwLjEgfX1cclxuICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMDIgfX1cclxuICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGdyb3VwLWhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIj5cclxuICAgICAgICAgICAgICAgICAge21vZGUuaWNvbn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e21vZGUubGFiZWx9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNTAgZ3JvdXAtaG92ZXI6dGV4dC13aGl0ZS84MCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHttb2RlLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L21vdGlvbi5idXR0b24+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9tb3Rpb24uZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBtb3VzZSBnbG93IOKAlCBvcHRpbWl6ZWQsIG5vIHJlLXJlbmRlcnMgKi99XHJcbiAgICAgIHtpbnB1dEZvY3VzZWQgJiYgIWxlc3Nvbkpzb24gJiYgKFxyXG4gICAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB3LVs1MHJlbV0gaC1bNTByZW1dIHJvdW5kZWQtZnVsbCBwb2ludGVyLWV2ZW50cy1ub25lIHotMCBvcGFjaXR5LTUgYmctZ3JhZGllbnQtdG8tciBmcm9tLXdoaXRlIHZpYS1ncmF5LTIwMCB0by13aGl0ZSBibHVyLTJ4bFwiXHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICB4OiBtb3VzZVgsXHJcbiAgICAgICAgICAgIHk6IG1vdXNlWSxcclxuICAgICAgICAgICAgdHJhbnNsYXRlWDogXCItNTAlXCIsXHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IFwiLTUwJVwiLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIHRyYW5zaXRpb249e3sgdHlwZTogXCJzcHJpbmdcIiwgZGFtcGluZzogMjUsIHN0aWZmbmVzczogMTUwLCBtYXNzOiAwLjUgfX1cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlU3RhdGUiLCJ1c2VNZW1vIiwiY24iLCJQYXBlcmNsaXAiLCJDb21tYW5kIiwiU2VuZEljb24iLCJYSWNvbiIsIkxvYWRlckljb24iLCJTcGFya2xlcyIsIlBsYXkiLCJQYXVzZSIsIlZpZGVvIiwiQm9va09wZW4iLCJtb3Rpb24iLCJBbmltYXRlUHJlc2VuY2UiLCJWaWRlb0xlYXJuaW5nUGFnZSIsInVzZU1vdGlvblZhbHVlIiwiUGx1cyIsInVzZVJvdXRlciIsIkxvZ28iLCJzYXZlU2VhcmNoIiwic3VwYWJhc2UiLCJBUElfQkFTRSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfQkFTRSIsInN0eWxlcyIsImRvY3VtZW50IiwiZXhpc3RpbmciLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiaW5uZXJIVE1MIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiQW5pbWF0ZWRDaGF0V2l0aFZpZGVvIiwicXVlc3Rpb24iLCJzZXRRdWVzdGlvbiIsImhhbmRsZU5hdmlnYXRlIiwidGV4dCIsInRyaW0iLCJvbkJhY2siLCJBbmltYXRlZEFJQ2hhdCIsIm9uTmF2aWdhdGVUb1ZpZGVvTGVhcm5pbmciLCJvblNlbmQiLCJ1c2VBdXRvUmVzaXplVGV4dGFyZWEiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJ0ZXh0YXJlYVJlZiIsImFkanVzdEhlaWdodCIsInJlc2V0IiwidGV4dGFyZWEiLCJjdXJyZW50IiwiaGVpZ2h0IiwibmV3SGVpZ2h0IiwiTWF0aCIsIm1heCIsIm1pbiIsInNjcm9sbEhlaWdodCIsIkluZmluaXR5IiwiVGV4dGFyZWEiLCJmb3J3YXJkUmVmIiwicmVmIiwiY2xhc3NOYW1lIiwiY29udGFpbmVyQ2xhc3NOYW1lIiwic2hvd1JpbmciLCJwcm9wcyIsImZvY3VzZWQiLCJzZXRGb2N1c2VkIiwiZGl2Iiwib25Gb2N1cyIsIm9uQmx1ciIsInNwYW4iLCJpbml0aWFsIiwib3BhY2l0eSIsImFuaW1hdGUiLCJleGl0IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiZGlzcGxheU5hbWUiLCJTdHJ1Y3R1cmVkTGVzc29uQ2FyZCIsImxlc3NvbiIsImlzU3RyZWFtaW5nQ29tcGxldGUiLCJzYW5pdGl6ZUxpbmUiLCJsaW5lIiwicmVwbGFjZUFsbCIsInJlcGxhY2UiLCJub3JtYWxpemVUaXRsZSIsInRpdGxlIiwidCIsInRlc3QiLCJyb3V0ZXIiLCJoYW5kbGVUYWtlUXVpeiIsInF1aXoiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJkYXRhIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInB1c2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJibG9ja3MiLCJhdWRpb1VybCIsInNldEF1ZGlvVXJsIiwiaXNUdHNMb2FkaW5nIiwic2V0SXNUdHNMb2FkaW5nIiwiYXVkaW9SZWYiLCJhdWRpb1F1ZXVlIiwic2V0QXVkaW9RdWV1ZSIsImN1cnJlbnRJbmRleCIsInNldEN1cnJlbnRJbmRleCIsImN1cnJlbnRJbmRleFJlZiIsImlzUXVldWVQcmVsb2FkaW5nIiwic2V0SXNRdWV1ZVByZWxvYWRpbmciLCJpc1BsYXlpbmciLCJzZXRJc1BsYXlpbmciLCJnZXRGdWxsTGVzc29uVGV4dCIsImxpbmVzIiwiYiIsImNvbnRlbnQiLCJqb2luIiwib2JqZWN0VXJsc1JlZiIsImZldGNoVFRTQmxvYlVybCIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJvayIsIkVycm9yIiwic3RhdHVzIiwiYmxvYiIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInBhdXNlIiwic3JjIiwidSIsInJldm9rZU9iamVjdFVSTCIsImUiLCJzZWdtZW50cyIsInNlZ3MiLCJpbnRyb2R1Y3Rpb24iLCJpbnRybyIsInNsaWNlIiwic2VjdGlvbnMiLCJzZWN0aW9uIiwiYyIsIlN0cmluZyIsInByZWxvYWRUVFMiLCJmaXJzdFVybCIsInRoZW4iLCJxIiwiY2F0Y2giLCJmaW5hbGx5IiwicGxheVRUUyIsIkF1ZGlvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZJbmRleCIsIm5leHRJbmRleCIsInFxIiwibmV4dFNyYyIsInBsYXkiLCJ0b2dnbGVQbGF5UGF1c2UiLCJoYXNQcmVwYXJlZCIsInBhdXNlZCIsInN0YXJ0c1dpdGgiLCJjbGFzc2lmaWNhdGlvbnMiLCJjbGFzc2lmaWNhdGlvbkNvbnRlbnQiLCJtYXAiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJmaWx0ZXIiLCJCb29sZWFuIiwiZGlhZ3JhbSIsInkiLCJibG9jayIsImlkeCIsImgzIiwic3BsaXQiLCJpIiwicCIsImJ1dHRvbiIsIndoaWxlSG92ZXIiLCJzY2FsZSIsIndoaWxlVGFwIiwib25DbGljayIsImRpc2FibGVkIiwiYXJpYS1wcmVzc2VkIiwidmFsdWUiLCJzZXRWYWx1ZSIsImF0dGFjaG1lbnRzIiwic2V0QXR0YWNobWVudHMiLCJpc1R5cGluZyIsInNldElzVHlwaW5nIiwic3RyZWFtaW5nVGV4dCIsInNldFN0cmVhbWluZ1RleHQiLCJzaG93Q29tbWFuZFBhbGV0dGUiLCJzZXRTaG93Q29tbWFuZFBhbGV0dGUiLCJhY3RpdmVTdWdnZXN0aW9uIiwic2V0QWN0aXZlU3VnZ2VzdGlvbiIsIm1vdXNlWCIsIm1vdXNlWSIsImlucHV0Rm9jdXNlZCIsInNldElucHV0Rm9jdXNlZCIsInNob3dWaWRlb0J1dHRvbiIsInNldFNob3dWaWRlb0J1dHRvbiIsInN0b3JlZExvbmciLCJzZXRTdG9yZWRMb25nIiwibGVzc29uSnNvbiIsInNldExlc3Nvbkpzb24iLCJyZXRyeUNvdW50Iiwic2V0UmV0cnlDb3VudCIsIk1BWF9SRVRSSUVTIiwiYWJvcnRSZWYiLCJzZXRFcnJvciIsInNhdmVNZXNzYWdlIiwic2V0U2F2ZU1lc3NhZ2UiLCJzaG93U2F2ZU1lc3NhZ2UiLCJzZXRTaG93U2F2ZU1lc3NhZ2UiLCJ1c2VyQWdlIiwic2V0VXNlckFnZSIsImF1dG9SZWYiLCJjb21tYW5kU3VnZ2VzdGlvbnMiLCJpY29uIiwibGFiZWwiLCJwcmVmaXgiLCJtb2RlU3VnZ2VzdGlvbnMiLCJhY3Rpb24iLCJnZXRVc2VyQWdlIiwic2Vzc2lvbiIsImF1dGgiLCJnZXRTZXNzaW9uIiwidXNlciIsInVzZXJEYXRhIiwiYWdlIiwidXNlcl9tZXRhZGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImluY2x1ZGVzIiwiZmluZEluZGV4IiwiY21kIiwiaGFuZGxlTW91c2VNb3ZlIiwic2V0IiwiY2xpZW50WCIsImNsaWVudFkiLCJ3aW5kb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJhYm9ydCIsIkFib3J0Q29udHJvbGxlciIsInNpZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJlcyIsIkV2ZW50U291cmNlIiwid2l0aENyZWRlbnRpYWxzIiwib25tZXNzYWdlIiwiZXYiLCJwYXJzZSIsImNsb3NlIiwic2hvcnQiLCJ1bmRlZmluZWQiLCJsb25nIiwiZG9uZSIsIm9uZXJyb3IiLCJzaWduYWwiLCJyZXNwb25zZSIsInRvcGljIiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiYnVmZmVyIiwiZmluYWxMZXNzb24iLCJpc0NvbXBsZXRlIiwic2F2ZVByb21pc2UiLCJzYXZlUmVzdWx0IiwibG9nIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJyZWFkIiwiZGVjb2RlIiwic3RyZWFtIiwicG9wIiwibG4iLCJtc2ciLCJuYW1lIiwicHJldiIsImhhbmRsZUtleURvd24iLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsInNoaWZ0S2V5IiwiaGFuZGxlQXR0YWNoRmlsZSIsInJhbmRvbSIsInRvU3RyaW5nIiwicmVtb3ZlQXR0YWNobWVudCIsIl8iLCJlYXNlIiwiZGVsYXkiLCJ3aWR0aCIsInMiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9uS2V5RG93biIsInBsYWNlaG9sZGVyIiwiZmlsZSIsIm1vZGUiLCJ4IiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJkYW1waW5nIiwic3RpZmZuZXNzIiwibWFzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/animated-ai-chat.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/search.ts":
/*!***********************!*\
  !*** ./lib/search.ts ***!
  \***********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   saveSearch: function() { return /* binding */ saveSearch; }\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(app-pages-browser)/./lib/db.ts\");\n\nasync function saveSearch(title) {\n    try {\n        var _sessionData_session_user, _sessionData_session;\n        // Get the current user's session\n        const { data: sessionData } = await _db__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getSession();\n        const uid = (_sessionData_session = sessionData.session) === null || _sessionData_session === void 0 ? void 0 : (_sessionData_session_user = _sessionData_session.user) === null || _sessionData_session_user === void 0 ? void 0 : _sessionData_session_user.id;\n        // ONLY save search history for properly authenticated users\n        // No fallback authentication - search history is a registered user feature\n        if (!uid) {\n            return {\n                success: false,\n                message: \"Search completed! To save your search history, please register or sign in.\",\n                suggestion: true\n            };\n        }\n        // Production-safe logging\n        if (true) {\n            console.log(\"[saveSearch] inserting:\", title);\n        }\n        const { data, error } = await _db__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"searches\").insert({\n            uid: uid,\n            title,\n            created_at: new Date().toISOString()\n        });\n        if (true) {\n            console.log(\"[saveSearch] supabase reply:\", {\n                ok: !!data,\n                error: error === null || error === void 0 ? void 0 : error.message\n            });\n        }\n        if (error) {\n            if (true) {\n                console.warn(\"❌ saveSearch error:\", error.message);\n            }\n            // Handle specific database errors\n            if (error.code === \"PGRST301\") {\n                return {\n                    success: false,\n                    message: \"Database connection error. Search completed but not saved.\",\n                    suggestion: false\n                };\n            } else if (error.code === \"23505\") {\n                return {\n                    success: true,\n                    message: \"Search completed and already in your history!\",\n                    suggestion: false\n                };\n            } else {\n                return {\n                    success: false,\n                    message: \"Search completed but couldn't be saved: \".concat(error.message),\n                    suggestion: false\n                };\n            }\n        } else {\n            if (true) {\n                console.log(\"✅ saveSearch success\");\n            }\n            return {\n                success: true,\n                message: \"Search saved to your history!\",\n                suggestion: false\n            };\n        }\n    } catch (error) {\n        if (true) {\n            console.error(\"❌ saveSearch exception:\", error);\n        }\n        return {\n            success: false,\n            message: \"Search completed but couldn't be saved due to an error.\",\n            suggestion: false\n        };\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9zZWFyY2gudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7QUFFeEIsZUFBZUMsV0FBV0MsS0FBYTtJQUM1QyxJQUFJO1lBR1VDLDJCQUFBQTtRQUZaLGlDQUFpQztRQUNqQyxNQUFNLEVBQUVDLE1BQU1ELFdBQVcsRUFBRSxHQUFHLE1BQU1ILHlDQUFRQSxDQUFDSyxJQUFJLENBQUNDLFVBQVU7UUFDNUQsTUFBTUMsT0FBTUosdUJBQUFBLFlBQVlLLE9BQU8sY0FBbkJMLDRDQUFBQSw0QkFBQUEscUJBQXFCTSxJQUFJLGNBQXpCTixnREFBQUEsMEJBQTJCTyxFQUFFO1FBRXpDLDREQUE0RDtRQUM1RCwyRUFBMkU7UUFDM0UsSUFBSSxDQUFDSCxLQUFLO1lBQ1IsT0FBTztnQkFDTEksU0FBUztnQkFDVEMsU0FBUztnQkFDVEMsWUFBWTtZQUNkO1FBQ0Y7UUFFQSwwQkFBMEI7UUFDMUIsSUFBSUMsSUFBeUIsRUFBZTtZQUMxQ0MsUUFBUUMsR0FBRyxDQUFDLDJCQUEyQmQ7UUFDekM7UUFFQSxNQUFNLEVBQUVFLElBQUksRUFBRWEsS0FBSyxFQUFFLEdBQUcsTUFBTWpCLHlDQUFRQSxDQUNuQ2tCLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUM7WUFBRVosS0FBS0E7WUFBS0w7WUFBT2tCLFlBQVksSUFBSUMsT0FBT0MsV0FBVztRQUFHO1FBRWxFLElBQUlSLElBQXlCLEVBQWU7WUFDMUNDLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0M7Z0JBQUVPLElBQUksQ0FBQyxDQUFDbkI7Z0JBQU1hLEtBQUssRUFBRUEsa0JBQUFBLDRCQUFBQSxNQUFPTCxPQUFPO1lBQUM7UUFDbEY7UUFFQSxJQUFJSyxPQUFPO1lBQ1QsSUFBSUgsSUFBeUIsRUFBZTtnQkFDMUNDLFFBQVFTLElBQUksQ0FBQyx1QkFBdUJQLE1BQU1MLE9BQU87WUFDbkQ7WUFFQSxrQ0FBa0M7WUFDbEMsSUFBSUssTUFBTVEsSUFBSSxLQUFLLFlBQVk7Z0JBQzdCLE9BQU87b0JBQ0xkLFNBQVM7b0JBQ1RDLFNBQVM7b0JBQ1RDLFlBQVk7Z0JBQ2Q7WUFDRixPQUFPLElBQUlJLE1BQU1RLElBQUksS0FBSyxTQUFTO2dCQUNqQyxPQUFPO29CQUNMZCxTQUFTO29CQUNUQyxTQUFTO29CQUNUQyxZQUFZO2dCQUNkO1lBQ0YsT0FBTztnQkFDTCxPQUFPO29CQUNMRixTQUFTO29CQUNUQyxTQUFTLDJDQUF5RCxPQUFkSyxNQUFNTCxPQUFPO29CQUNqRUMsWUFBWTtnQkFDZDtZQUNGO1FBQ0YsT0FBTztZQUNMLElBQUlDLElBQXlCLEVBQWU7Z0JBQzFDQyxRQUFRQyxHQUFHLENBQUM7WUFDZDtZQUNBLE9BQU87Z0JBQ0xMLFNBQVM7Z0JBQ1RDLFNBQVM7Z0JBQ1RDLFlBQVk7WUFDZDtRQUNGO0lBQ0YsRUFBRSxPQUFPSSxPQUFZO1FBQ25CLElBQUlILElBQXlCLEVBQWU7WUFDMUNDLFFBQVFFLEtBQUssQ0FBQywyQkFBMkJBO1FBQzNDO1FBQ0EsT0FBTztZQUNMTixTQUFTO1lBQ1RDLFNBQVM7WUFDVEMsWUFBWTtRQUNkO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvc2VhcmNoLnRzPzliNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuL2RiJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVTZWFyY2godGl0bGU6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgdXNlcidzIHNlc3Npb25cclxuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpXHJcbiAgICBjb25zdCB1aWQgPSBzZXNzaW9uRGF0YS5zZXNzaW9uPy51c2VyPy5pZFxyXG4gICAgXHJcbiAgICAvLyBPTkxZIHNhdmUgc2VhcmNoIGhpc3RvcnkgZm9yIHByb3Blcmx5IGF1dGhlbnRpY2F0ZWQgdXNlcnNcclxuICAgIC8vIE5vIGZhbGxiYWNrIGF1dGhlbnRpY2F0aW9uIC0gc2VhcmNoIGhpc3RvcnkgaXMgYSByZWdpc3RlcmVkIHVzZXIgZmVhdHVyZVxyXG4gICAgaWYgKCF1aWQpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiAnU2VhcmNoIGNvbXBsZXRlZCEgVG8gc2F2ZSB5b3VyIHNlYXJjaCBoaXN0b3J5LCBwbGVhc2UgcmVnaXN0ZXIgb3Igc2lnbiBpbi4nLFxyXG4gICAgICAgIHN1Z2dlc3Rpb246IHRydWVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQcm9kdWN0aW9uLXNhZmUgbG9nZ2luZ1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbc2F2ZVNlYXJjaF0gaW5zZXJ0aW5nOicsIHRpdGxlKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdzZWFyY2hlcycpXHJcbiAgICAgIC5pbnNlcnQoeyB1aWQ6IHVpZCwgdGl0bGUsIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KVxyXG5cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICBjb25zb2xlLmxvZygnW3NhdmVTZWFyY2hdIHN1cGFiYXNlIHJlcGx5OicsIHsgb2s6ICEhZGF0YSwgZXJyb3I6IGVycm9yPy5tZXNzYWdlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4p2MIHNhdmVTZWFyY2ggZXJyb3I6JywgZXJyb3IubWVzc2FnZSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gSGFuZGxlIHNwZWNpZmljIGRhdGFiYXNlIGVycm9yc1xyXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMzAxJykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGVycm9yLiBTZWFyY2ggY29tcGxldGVkIGJ1dCBub3Qgc2F2ZWQuJyxcclxuICAgICAgICAgIHN1Z2dlc3Rpb246IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGVycm9yLmNvZGUgPT09ICcyMzUwNScpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdTZWFyY2ggY29tcGxldGVkIGFuZCBhbHJlYWR5IGluIHlvdXIgaGlzdG9yeSEnLFxyXG4gICAgICAgICAgc3VnZ2VzdGlvbjogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgbWVzc2FnZTogYFNlYXJjaCBjb21wbGV0ZWQgYnV0IGNvdWxkbid0IGJlIHNhdmVkOiAke2Vycm9yLm1lc3NhZ2V9YCxcclxuICAgICAgICAgIHN1Z2dlc3Rpb246IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIHNhdmVTZWFyY2ggc3VjY2VzcycpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdTZWFyY2ggc2F2ZWQgdG8geW91ciBoaXN0b3J5IScsXHJcbiAgICAgICAgc3VnZ2VzdGlvbjogZmFsc2VcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgc2F2ZVNlYXJjaCBleGNlcHRpb246JywgZXJyb3IpXHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ1NlYXJjaCBjb21wbGV0ZWQgYnV0IGNvdWxkblxcJ3QgYmUgc2F2ZWQgZHVlIHRvIGFuIGVycm9yLicsXHJcbiAgICAgIHN1Z2dlc3Rpb246IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbInN1cGFiYXNlIiwic2F2ZVNlYXJjaCIsInRpdGxlIiwic2Vzc2lvbkRhdGEiLCJkYXRhIiwiYXV0aCIsImdldFNlc3Npb24iLCJ1aWQiLCJzZXNzaW9uIiwidXNlciIsImlkIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJzdWdnZXN0aW9uIiwicHJvY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwib2siLCJ3YXJuIiwiY29kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/search.ts\n"));

/***/ })

}]);